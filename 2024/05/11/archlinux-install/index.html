<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.2.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.epen.xyz","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="感谢作者 vconlln 原文链接只做参考备份，非商用。 Archlinux安装(超详细)Archlinux安装与美化全流程本文是自己写的并且搬运少部分https:&#x2F;&#x2F;arch.icekylin.online&#x2F;prologue.html的内容 一. 镜像制作#1. 下载#Arch官方下载界面 阿里云镜像站下载 1注意：官网下载页面下拉可以看多很多国家的镜像源！   ⚠️ 注意:   请确保下载最新">
<meta property="og:type" content="article">
<meta property="og:title" content="archlinux install">
<meta property="og:url" content="https://blog.epen.xyz/2024/05/11/archlinux-install/index.html">
<meta property="og:site_name" content="H5Z2P5Z2P">
<meta property="og:description" content="感谢作者 vconlln 原文链接只做参考备份，非商用。 Archlinux安装(超详细)Archlinux安装与美化全流程本文是自己写的并且搬运少部分https:&#x2F;&#x2F;arch.icekylin.online&#x2F;prologue.html的内容 一. 镜像制作#1. 下载#Arch官方下载界面 阿里云镜像站下载 1注意：官网下载页面下拉可以看多很多国家的镜像源！   ⚠️ 注意:   请确保下载最新">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235244835-2047495655.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235244240-1596268782.png">
<meta property="og:image" content="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235245817-1020333573.png">
<meta property="article:published_time" content="2024-05-11T02:04:57.000Z">
<meta property="article:modified_time" content="2024-05-11T02:12:33.590Z">
<meta property="article:author" content="H5Z2P5Z2P">
<meta property="article:tag" content="archlinux">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="install">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235244835-2047495655.png">


<link rel="canonical" href="https://blog.epen.xyz/2024/05/11/archlinux-install/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://blog.epen.xyz/2024/05/11/archlinux-install/","path":"2024/05/11/archlinux-install/","title":"archlinux install"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>archlinux install | H5Z2P5Z2P</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">H5Z2P5Z2P</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Archlinux%E5%AE%89%E8%A3%85-%E8%B6%85%E8%AF%A6%E7%BB%86"><span class="nav-number">1.</span> <span class="nav-text">Archlinux安装(超详细)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Archlinux%E5%AE%89%E8%A3%85%E4%B8%8E%E7%BE%8E%E5%8C%96%E5%85%A8%E6%B5%81%E7%A8%8B"><span class="nav-number">2.</span> <span class="nav-text">Archlinux安装与美化全流程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80-%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C"><span class="nav-number">2.1.</span> <span class="nav-text">一. 镜像制作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%B8%8B%E8%BD%BD"><span class="nav-number">2.1.1.</span> <span class="nav-text">1. 下载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E9%95%9C%E5%83%8F%E7%83%A7%E5%BD%95"><span class="nav-number">2.1.2.</span> <span class="nav-text">2.镜像烧录</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-Windows"><span class="nav-number">2.1.2.1.</span> <span class="nav-text">2.1 Windows</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-Linux"><span class="nav-number">2.1.2.2.</span> <span class="nav-text">2.2 Linux</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C-USB%E5%90%AF%E5%8A%A8%E5%AE%89%E8%A3%85"><span class="nav-number">2.2.</span> <span class="nav-text">二. USB启动安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%90%AF%E5%8A%A8%E5%88%B0-Live-%E7%8E%AF%E5%A2%83"><span class="nav-number">2.2.1.</span> <span class="nav-text">1.启动到 Live 环境</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%AD%A3%E5%BC%8F%E5%AE%89%E8%A3%85"><span class="nav-number">2.2.2.</span> <span class="nav-text">2.正式安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-%E7%A6%81%E7%94%A8-reflector-%E6%9C%8D%E5%8A%A1"><span class="nav-number">2.2.2.1.</span> <span class="nav-text">2.1 禁用 reflector 服务</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6UEFI%E5%90%AF%E5%8A%A8"><span class="nav-number">2.2.2.2.</span> <span class="nav-text">2.2 检查是否UEFI启动</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C"><span class="nav-number">2.2.2.3.</span> <span class="nav-text">2.3 连接网络</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4"><span class="nav-number">2.2.2.4.</span> <span class="nav-text">2.4 更新系统时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-%E6%8D%A2%E6%BA%90"><span class="nav-number">2.2.2.5.</span> <span class="nav-text">2.5 换源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-6-%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA"><span class="nav-number">2.2.2.6.</span> <span class="nav-text">2.6 硬盘分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-7-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%88%86%E5%8C%BA"><span class="nav-number">2.2.2.7.</span> <span class="nav-text">2.7 格式化分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-8-%E6%8C%82%E8%BD%BD%E5%88%86%E5%8C%BA"><span class="nav-number">2.2.2.8.</span> <span class="nav-text">2.8 挂载分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-9-%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F"><span class="nav-number">2.2.2.9.</span> <span class="nav-text">2.9 安装系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-10-%E7%94%9F%E6%88%90%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E8%A1%A8"><span class="nav-number">2.2.2.10.</span> <span class="nav-text">2.10 生成文件系统表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-11-%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA"><span class="nav-number">2.2.2.11.</span> <span class="nav-text">2.11 设置时区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-12-%E6%9C%AC%E5%9C%B0%E5%8C%96"><span class="nav-number">2.2.2.12.</span> <span class="nav-text">2.12 本地化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-13-%E4%B8%BB%E6%9C%BA%E5%90%8D%E4%B8%8Ehosts%E9%85%8D%E7%BD%AE"><span class="nav-number">2.2.2.13.</span> <span class="nav-text">2.13 主机名与hosts配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-14-%E8%AE%BE%E7%BD%AEroot%E5%AF%86%E7%A0%81"><span class="nav-number">2.2.2.14.</span> <span class="nav-text">2.14 设置root密码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-15-%E5%AE%89%E8%A3%85%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F"><span class="nav-number">2.2.2.15.</span> <span class="nav-text">2.15 安装引导程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-16-%E9%85%8D%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E9%A1%B9"><span class="nav-number">2.2.2.16.</span> <span class="nav-text">2.16 配置开机启动项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-17-%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="nav-number">2.2.2.17.</span> <span class="nav-text">2.17 新建用户</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-18-%E7%BB%93%E6%9D%9F"><span class="nav-number">2.2.2.18.</span> <span class="nav-text">2.18 结束</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89-%E5%AE%89%E8%A3%85%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2-KDE"><span class="nav-number">2.2.3.</span> <span class="nav-text">三. 安装图形界面 KDE</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E7%AA%97%E5%8F%A3%E5%9B%BE%E5%BD%A2%E7%B3%BB%E7%BB%9F-Xorg"><span class="nav-number">2.2.3.1.</span> <span class="nav-text">1.窗口图形系统 Xorg</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-KDE-Plasma"><span class="nav-number">2.2.3.2.</span> <span class="nav-text">2.KDE Plasma</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%90%AF%E7%94%A8%E7%99%BB%E5%BD%95%E7%AE%A1%E7%90%86%E5%99%A8-SDDM"><span class="nav-number">2.2.3.3.</span> <span class="nav-text">3. 启用登录管理器 SDDM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%99%A8"><span class="nav-number">2.2.3.4.</span> <span class="nav-text">4.设置网络管理器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8F%8A%E5%AD%97%E4%BD%93%E4%B8%8B%E8%BD%BD"><span class="nav-number">2.2.3.5.</span> <span class="nav-text">5.浏览器及字体下载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-KDE-%E7%95%8C%E9%9D%A2%E6%94%B9%E6%88%90%E4%B8%AD%E6%96%87"><span class="nav-number">2.2.3.6.</span> <span class="nav-text">6.KDE 界面改成中文</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E8%AE%BE%E7%BD%AE%E6%98%BE%E7%A4%BA%E5%99%A8%E5%85%A8%E5%B1%80%E7%BC%A9%E6%94%BE%E7%8E%87"><span class="nav-number">2.2.3.7.</span> <span class="nav-text">7. 设置显示器全局缩放率</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B-%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE"><span class="nav-number">2.2.4.</span> <span class="nav-text">四. 基本设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95"><span class="nav-number">2.2.4.1.</span> <span class="nav-text">1. 中文输入法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%93%9D%E7%89%99"><span class="nav-number">2.2.4.2.</span> <span class="nav-text">2. 蓝牙</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-pacman-32%E4%BD%8D%E8%BF%90%E8%A1%8C%E5%BA%93%E4%B8%8EArchLinuxCN%E5%BA%93%E7%9A%84%E6%94%AF%E6%8C%81-%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%BA%9B%E9%95%9C%E5%83%8F%E6%BA%90"><span class="nav-number">2.2.4.3.</span> <span class="nav-text">3. pacman 32位运行库与ArchLinuxCN库的支持,以及一些镜像源</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#multilib"><span class="nav-number">2.2.4.3.1.</span> <span class="nav-text">multilib</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Arch-Linux-CN"><span class="nav-number">2.2.4.3.2.</span> <span class="nav-text">Arch Linux CN</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#BlackArch-%E9%95%9C%E5%83%8F%E6%BA%90"><span class="nav-number">2.2.4.3.3.</span> <span class="nav-text">BlackArch 镜像源</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Chaotic-AUR"><span class="nav-number">2.2.4.3.4.</span> <span class="nav-text">Chaotic-AUR</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Clansty"><span class="nav-number">2.2.4.3.5.</span> <span class="nav-text">Clansty</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%AE%89%E8%A3%85-AUR%EF%BC%88yay%EF%BC%89%EF%BC%88%E6%B7%BB%E5%8A%A0CN%E6%BA%90%E4%B9%8B%E5%90%8E%E5%8F%AF%E4%BB%A5%E4%B9%8B%E9%97%B4%E5%AE%89%E8%A3%85yay-%E6%AD%A4%E6%AD%A5%E9%AA%A4%E5%8F%AF%E4%BB%A5%E7%9C%81%E7%95%A5%EF%BC%89"><span class="nav-number">2.2.4.4.</span> <span class="nav-text">4.安装 AUR（yay）（添加CN源之后可以之间安装yay,此步骤可以省略）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-pacman-yay-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="nav-number">2.2.4.5.</span> <span class="nav-text">5. pacman&#x2F;yay 常用操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-pacman%E5%AE%89%E8%A3%85-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6"><span class="nav-number">2.2.4.6.</span> <span class="nav-text">6. pacman安装 常用软件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-yay-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6"><span class="nav-number">2.2.4.7.</span> <span class="nav-text">7. yay 常用软件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%8F%8C%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2"><span class="nav-number">2.2.4.8.</span> <span class="nav-text">8. 显卡驱动与双显卡切换</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%94-%E8%A7%A6%E6%8E%A7%E6%9D%BF%E8%AE%BE%E7%BD%AE"><span class="nav-number">2.2.5.</span> <span class="nav-text">五. 触控板设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%89%8D%E8%A8%80"><span class="nav-number">2.2.5.1.</span> <span class="nav-text">1.前言</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE"><span class="nav-number">2.2.5.2.</span> <span class="nav-text">2.基本设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%AE%89%E8%A3%85libinput-%E4%B8%8E-xdotool"><span class="nav-number">2.2.5.3.</span> <span class="nav-text">3.安装libinput 与 xdotool</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E9%85%8D%E7%BD%AE"><span class="nav-number">2.2.5.4.</span> <span class="nav-text">4.配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B0%83%E8%AF%95"><span class="nav-number">2.2.5.4.1.</span> <span class="nav-text">调试</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-%E7%A1%AE%E5%AE%9Atouchpad%E8%AE%BE%E5%A4%87"><span class="nav-number">2.2.5.4.1.1.</span> <span class="nav-text">1.确定touchpad设备</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-%E6%9F%A5%E7%9C%8Btouchpad%E7%9A%84%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE"><span class="nav-number">2.2.5.4.1.2.</span> <span class="nav-text">2.查看touchpad的详细配置</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-%E4%BD%BF%E7%94%A8libinput-debug-events-%E7%9B%91%E6%8E%A7touchpad%E4%BA%8B%E4%BB%B6"><span class="nav-number">2.2.5.4.1.3.</span> <span class="nav-text">3.使用libinput debug-events 监控touchpad事件</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-%E4%BD%BF%E7%94%A8libinput-debug-gui-%E7%9B%91%E6%8E%A7touchpad%E4%BA%8B%E4%BB%B6"><span class="nav-number">2.2.5.4.1.4.</span> <span class="nav-text">4.使用libinput debug-gui 监控touchpad事件</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%AD-%E8%BD%AC%E6%8D%A2deb%E5%8C%85"><span class="nav-number">2.2.6.</span> <span class="nav-text">六. 转换deb包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%83-KDE-%E6%A1%8C%E9%9D%A2%E7%BE%8E%E5%8C%96"><span class="nav-number">2.2.7.</span> <span class="nav-text">七. KDE 桌面美化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD"><span class="nav-number">2.2.7.1.</span> <span class="nav-text">1. 官网下载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-dock%E6%A0%8F"><span class="nav-number">2.2.7.2.</span> <span class="nav-text">2. dock栏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E7%B3%BB%E7%BB%9F%E6%89%98%E7%9B%98"><span class="nav-number">2.2.7.3.</span> <span class="nav-text">3.系统托盘</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-grub%E7%BE%8E%E5%8C%96"><span class="nav-number">2.2.7.4.</span> <span class="nav-text">4.grub美化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E6%8F%92%E4%BB%B6"><span class="nav-number">2.2.7.5.</span> <span class="nav-text">5.插件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-icons"><span class="nav-number">2.2.7.6.</span> <span class="nav-text">6.icons</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E4%B8%BB%E9%A2%98"><span class="nav-number">2.2.7.7.</span> <span class="nav-text">7.主题</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%AB-%E7%BB%88%E7%AB%AF%E7%BE%8E%E5%8C%96"><span class="nav-number">2.2.8.</span> <span class="nav-text">八. 终端美化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Konsole%E9%85%8D%E7%BD%AE"><span class="nav-number">2.2.8.1.</span> <span class="nav-text">Konsole配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%9A%80-zsh"><span class="nav-number">2.3.</span> <span class="nav-text">🚀 zsh</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link"><span class="nav-number">2.3.0.1.</span> <span class="nav-text">#</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%F0%9F%8D%A7-%E7%A2%8E%E7%A2%8E%E5%BF%B5"><span class="nav-number">2.3.0.2.</span> <span class="nav-text">🍧 碎碎念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#oh-my-zsh"><span class="nav-number">2.3.0.3.</span> <span class="nav-text">oh_my_zsh</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Zim"><span class="nav-number">2.3.0.4.</span> <span class="nav-text">Zim</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">2.3.0.4.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-number">2.3.0.4.2.</span> <span class="nav-text">配置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E6%8E%A8%E8%8D%90"><span class="nav-number">2.3.0.5.</span> <span class="nav-text">模块推荐</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B9%9D-%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="nav-number">2.3.1.</span> <span class="nav-text">九. 其他软件安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Typora"><span class="nav-number">2.3.1.1.</span> <span class="nav-text">1. Typora</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8C%85"><span class="nav-number">2.3.1.1.1.</span> <span class="nav-text">方式一：二进制包</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9Adeb%E5%8C%85"><span class="nav-number">2.3.1.1.2.</span> <span class="nav-text">方式二：deb包</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Navicat"><span class="nav-number">2.3.1.2.</span> <span class="nav-text">2. Navicat</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81-%E5%B8%B8%E8%A7%81Bug%E8%A7%A3%E5%86%B3"><span class="nav-number">2.4.</span> <span class="nav-text">十. 常见Bug解决</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-VScode-Git%E4%BF%9D%E6%8C%81%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81"><span class="nav-number">2.4.1.</span> <span class="nav-text">1. VScode Git保持登录状态</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">H5Z2P5Z2P</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.epen.xyz/2024/05/11/archlinux-install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="H5Z2P5Z2P">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="H5Z2P5Z2P">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="archlinux install | H5Z2P5Z2P">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          archlinux install
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2024-05-11 10:04:57 / Modified: 10:12:33" itemprop="dateCreated datePublished" datetime="2024-05-11T10:04:57+08:00">2024-05-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/archlinux/" itemprop="url" rel="index"><span itemprop="name">archlinux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>感谢作者 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln">vconlln</a> <a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html">原文链接</a><br>只做参考备份，非商用。</p>
<h1 id="Archlinux安装-超详细"><a href="#Archlinux安装-超详细" class="headerlink" title="Archlinux安装(超详细)"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html">Archlinux安装(超详细)</a></h1><h1 id="Archlinux安装与美化全流程"><a href="#Archlinux安装与美化全流程" class="headerlink" title="Archlinux安装与美化全流程"></a>Archlinux安装与美化全流程</h1><p>本文是自己写的并且搬运少部分<a target="_blank" rel="noopener" href="https://arch.icekylin.online/prologue.html%E7%9A%84%E5%86%85%E5%AE%B9">https://arch.icekylin.online/prologue.html的内容</a></p>
<h2 id="一-镜像制作"><a href="#一-镜像制作" class="headerlink" title="一. 镜像制作#"></a>一. 镜像制作<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%B8%80-%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C">#</a></h2><h3 id="1-下载"><a href="#1-下载" class="headerlink" title="1. 下载#"></a>1. 下载<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-%E4%B8%8B%E8%BD%BD">#</a></h3><p><a target="_blank" rel="noopener" href="https://archlinux.org/download/">Arch官方下载界面</a></p>
<p><a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/archlinux/iso/">阿里云镜像站下载</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意：官网下载页面下拉可以看多很多国家的镜像源！</span><br></pre></td></tr></table></figure>

<blockquote>
<p>⚠️ 注意:</p>
</blockquote>
<blockquote>
<p>请确保下载最新的安装镜像！因为 archlinux 是滚动发行版，不存在使用旧的安装镜像安装旧版本的说法。</p>
</blockquote>
<h3 id="2-镜像烧录"><a href="#2-镜像烧录" class="headerlink" title="2.镜像烧录#"></a>2.镜像烧录<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2%E9%95%9C%E5%83%8F%E7%83%A7%E5%BD%95">#</a></h3><p>准备一个 2G 以上的 U 盘，刻录一个安装盘。</p>
<h4 id="2-1-Windows"><a href="#2-1-Windows" class="headerlink" title="2.1 Windows#"></a>2.1 Windows<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#21-windows">#</a></h4><p>Windows 下推荐使用 <a target="_blank" rel="noopener" href="https://www.ventoy.net/cn/doc_start.html">Ventoy</a>、<a target="_blank" rel="noopener" href="https://rufus.ie/">Rufus</a> 或者 <a target="_blank" rel="noopener" href="https://www.poweriso.com/download.php">Power ISO</a>EULA 进行 U 盘刻录。三者皆为免费使用的软件。具体操作请自行查阅，都非常简单除此之外，如果你还嫌麻烦，还可以使用更为简单的安装盘制作工具 <a target="_blank" rel="noopener" href="https://www.balena.io/etcher/">balenaEtcher</a>。</p>
<h4 id="2-2-Linux"><a href="#2-2-Linux" class="headerlink" title="2.2 Linux#"></a>2.2 Linux<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#22-linux">#</a></h4><p>Linux 下同样可以使用 Ventoy 和 balenaEtcher，具体步骤可参阅 <a target="_blank" rel="noopener" href="https://arch.icekylin.online/advanced/make-install-disk.html#ventoy-%E6%8E%A8%E8%8D%90">Ventoy（推荐）</a> 以及 <a target="_blank" rel="noopener" href="https://arch.icekylin.online/advanced/make-install-disk.html#balenaetcher">balenaEtcher</a>。</p>
<p>也可以直接用 <code>dd</code> 命令进行刻录，具体步骤可参阅 <a target="_blank" rel="noopener" href="https://arch.icekylin.online/advanced/make-install-disk.html#dd-%E5%91%BD%E4%BB%A4">dd 命令</a>。</p>
<p>下面是使用 Rufus 进行镜像烧录</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">下载好 Rufus 后打开，插入要写入的U盘</span><br><span class="line"></span><br><span class="line">然后选择要烧录系统的U盘(设备没有可选项？勾上显示USB外置硬盘即可！)</span><br><span class="line"></span><br><span class="line">选择要烧录的镜像</span><br><span class="line"></span><br><span class="line">分区类型选择GPT格式</span><br><span class="line"></span><br><span class="line">目标系统类型选择UEFI</span><br><span class="line"></span><br><span class="line">文件系统选择FAT</span><br><span class="line"></span><br><span class="line">点击开始并以ISO镜像模式写入即开始镜像烧录</span><br><span class="line"></span><br><span class="line">注意：烧录镜像默认会格式化U盘，请提前备份好数据！</span><br></pre></td></tr></table></figure>

<h2 id="二-USB启动安装"><a href="#二-USB启动安装" class="headerlink" title="二. USB启动安装#"></a>二. USB启动安装<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%BA%8C-usb%E5%90%AF%E5%8A%A8%E5%AE%89%E8%A3%85">#</a></h2><h3 id="1-启动到-Live-环境"><a href="#1-启动到-Live-环境" class="headerlink" title="1.启动到 Live 环境#"></a>1.启动到 Live 环境<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1%E5%90%AF%E5%8A%A8%E5%88%B0-live-%E7%8E%AF%E5%A2%83">#</a></h3><p>根据ArchWiki介绍，Arch是不支持安全启动的，而一般电脑默认开启安全启动，所以需要先到BIOS里面关闭安全启动( Secure Boot )，注意需要先关闭Windows的快速启动。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">关闭 BIOS 设置中的 Secure Boot</span></span><br><span class="line">在类似名为 security（安全）的选项卡中，找到一项名为Secure Boot（安全启动，名称可能略有差异）的选项，选择 Disable 将其禁用。</span><br></pre></td></tr></table></figure>

<p>设置好以后将刚才烧录的U盘插入电脑，然后开机，在开机的时候，按下 <code>F2</code> &#x2F; <code>F8</code> &#x2F; <code>F10</code> &#x2F; <code>DEL</code> 等（取决与你的主板型号，具体请查阅你主板的相关信息）按键，进入主板的 BIOS 设置界面。进入Live环境。选择第一项 Arch Linux install medium (x86_64, UEFI) 开始加载安装程序，如果不是类似界面，请检查BIOS设置或者U盘烧录是否正确。</p>
<p>正式进入 Arch 的 U盘系统后，对于没有怎么接触过Arch的人可能比较惊讶，为什么不是图形界面？没错，Arch 安装镜像只包含了系统一些基础组件，并没有图形界面，需要用户安装好系统之后自行安装，这样虽然麻烦，但是却给了用户更多的选择，可定制化程度更高。</p>
<h3 id="2-正式安装"><a href="#2-正式安装" class="headerlink" title="2.正式安装#"></a>2.正式安装<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2%E6%AD%A3%E5%BC%8F%E5%AE%89%E8%A3%85">#</a></h3><h4 id="2-1-禁用-reflector-服务"><a href="#2-1-禁用-reflector-服务" class="headerlink" title="2.1 禁用 reflector 服务#"></a>2.1 禁用 reflector 服务<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#21-%E7%A6%81%E7%94%A8-reflector-%E6%9C%8D%E5%8A%A1">#</a></h4><p>2020 年，archlinux 安装镜像中加入了 <code>reflector</code> 服务，它会自己更新 <code>mirrorlist</code>（软件包管理器 <code>pacman</code> 的软件源）。在特定情况下，它会误删某些有用的源信息。这里进入安装环境后的第一件事就是将其禁用。也许它是一个好用的工具，但是很明显，因为地理上造成的特殊网络环境，这项服务并不适合启用。</p>
<p>1.通过以下命令将该服务禁用：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop reflector.service</span><br></pre></td></tr></table></figure>

<p>2.通过以下命令查看该服务是否被禁用，按下 <code>q</code> 退出结果输出：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status reflector.service</span><br></pre></td></tr></table></figure>

<h4 id="2-2-检查是否UEFI启动"><a href="#2-2-检查是否UEFI启动" class="headerlink" title="2.2 检查是否UEFI启动#"></a>2.2 检查是否UEFI启动<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#22-%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6uefi%E5%90%AF%E5%8A%A8">#</a></h4><p>ArchLinux 只支持UEFI模式启动的电脑，所以第一步便是检查当前电脑是否为UEFI启动，在终端输入以下命令。如果出现大量文件则正常否则该电脑可能不支持安装ArchLinux。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls /sys/firmware/efi/efivars</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">提示：如果没有报错就是支持UEFI</span></span><br><span class="line">若输出了一堆东西（efi 变量），则说明已在 UEFI 模式。否则请确认你的启动方式是否为 UEFI。</span><br></pre></td></tr></table></figure>

<h4 id="2-3-连接网络"><a href="#2-3-连接网络" class="headerlink" title="2.3 连接网络#"></a>2.3 连接网络<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#23-%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C">#</a></h4><p>防止网卡被禁用，使用以下命令解除网卡禁用：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rfkill unblock all</span><br></pre></td></tr></table></figure>

<p>usb直连：ArchLinux安装需要下载一些软件，需要保证网络通畅，ArchLinux不会默认连接网络，建议手机开usb热点电脑连接，不用额外配置。</p>
<p>wifi 连接：输入 iwctl 进入wifi连接界面：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">是否启用了网络接口</span></span><br><span class="line">ip link</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">执行iwctl命令，进入交互式命令行</span></span><br><span class="line">iwctl</span><br><span class="line">-------------下面为iwctl界面，不同于终端-----------</span><br><span class="line">[iwd] help   # 输入help回车可以查看使用说明</span><br><span class="line">[iwd] device list # 回车后可以查看当前网卡设备，一般为 wlan0</span><br><span class="line">[iwd] station &lt;device&gt; scan # &lt;device&gt;替换为上面的网卡设备，这条命令可以让网卡扫描wifi设备</span><br><span class="line">[iwd] station &lt;device&gt; get-networks  # 回车后可以显示当前可连接网络，列出所有 wifi 网络</span><br><span class="line">[iwd] station &lt;device&gt; connect &lt;wifi name&gt;  # 连接wifi, &lt;wifi name&gt; 为上面获取的wifi名称，注意这里无法输入中文。回车后输入密码即可</span><br><span class="line">password: # 如果wifi为加密wifi,输入密码回车</span><br><span class="line">[iwd] exit或者quit # 退出 wifi 连接界面</span><br></pre></td></tr></table></figure>

<p>测试网络是否连接成功：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.baidu.com -n</span><br></pre></td></tr></table></figure>

<h4 id="2-4-更新系统时间"><a href="#2-4-更新系统时间" class="headerlink" title="2.4 更新系统时间#"></a>2.4 更新系统时间<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#24-%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4">#</a></h4><p>更新系统时间是有必要的，因为下载软件是服务器会验证系统时间，如果时间不正确，可能出现下载失败的情况，输入以下命令同步系统时间为准确时间：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp true # 将系统时间与网络时间进行同步</span><br><span class="line">timedatectl status		 # 查看系统时间状态，检查是否成功 看到（system clock synchronized :yes）这一句就是成功了</span><br></pre></td></tr></table></figure>

<h4 id="2-5-换源"><a href="#2-5-换源" class="headerlink" title="2.5 换源#"></a>2.5 换源<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#25-%E6%8D%A2%E6%BA%90">#</a></h4><p>为保证安全与方便，Linux系统绝大多数软件都是在官方网站下载的，但是ArchLinux官方网站在国外，国内访问的话有点慢，国内有专门的镜像站可以直接从国内服务器下载软件包，就相当于在官网下载的并且镜像站都是每天更新，软件包也是最新的。</p>
<blockquote>
<p>ℹ️ 提示</p>
</blockquote>
<blockquote>
<p>如果不会使用 <code>vim</code> 编辑器，请参阅 <a target="_blank" rel="noopener" href="https://arch.icekylin.online/advanced/system-ctl.html#%E7%BB%88%E7%AB%AF%E7%BC%96%E8%BE%91%E5%99%A8-vim-%E7%9A%84%E4%BD%BF%E7%94%A8">这里</a>。<code>vim</code> 编辑器在安装和配置系统的过程中还需要使用多次。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">备份原来的配置文件</span></span><br><span class="line">cp -a /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.bak</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑配置文件</span></span><br><span class="line">vim /etc/pacman.d/mirrorlist</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">---------------下面为vim操作，不同于终端-------------</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">找到第一个 Server=... 的行在该行上一行写入以下内容</span></span><br><span class="line">Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch # 中国科学技术大学开源镜像站</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch # 清华大学开源软件镜像站</span><br><span class="line">Server = https://repo.huaweicloud.com/archlinux/$repo/os/$arch # 华为开源镜像站</span><br><span class="line">Server = http://mirror.lzu.edu.cn/archlinux/$repo/os/$arch # 兰州大学开源镜像站</span><br><span class="line">Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch # 阿里云镜像站</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--------------------------------------------------</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">也可以按/，搜索China,找到中科大的镜像源,然后2dd 剪切2行，再按GG回到第一行，按 p 粘贴</span></span><br></pre></td></tr></table></figure>

<p>更新软件包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -Syy</span><br></pre></td></tr></table></figure>

<h4 id="2-6-硬盘分区"><a href="#2-6-硬盘分区" class="headerlink" title="2.6 硬盘分区#"></a>2.6 硬盘分区<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#26-%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA">#</a></h4><p>分区就是为了上面讲到的挂载，不同分区有不同的大小，呈现在文件系统里面就是不同目录有不同大小，下面是我安装 ArchLinux 时的分区情况：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">efi + gpt</span></span><br><span class="line">/分区:      150G   挂载目录： /	类型：Linux filesystem    作用：存放系统其他文件</span><br><span class="line">/home分区： 300G   挂载目录：/home    类型：Linux Home      作用：存放用户文件，/home/用户名 为指定用户根目录</span><br><span class="line">boot分区：   1G	挂载目录： /boot    类型：EFI System      作用：引导文件存放</span><br><span class="line">swap分区：   16G   挂载目录：无        类型：Linux Swap      作用：系统恢复分区，系统挂起或内存不足时可能会被当作 ROM 使用</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">biso + mbr</span></span><br><span class="line">/分区:      150G   挂载目录： /		类型：Linux     作用：存放系统其他文件</span><br><span class="line">/home分区： 300G   挂载目录：/home     类型：Linux      作用：存放用户文件，/home/用户名 为指定用户根目录</span><br><span class="line">swap分区：   16G   挂载目录：无        类型：Linux Swap      作用：系统恢复分区，系统挂起或内存不足时可能会被当作 ROM 使用</span><br></pre></td></tr></table></figure>

<p>自己可以根据自己的具体情况合理分配，不过我还是建议 <code>/boot</code> 分区不小于800M，<code>/</code>分区不小于30G，这是Arch官方推荐情况。</p>
<p>下面命令用来查看系统的分区情况：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看磁盘分区</span></span><br><span class="line">lsblk</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">分区</span></span><br><span class="line">fdisk -l</span><br></pre></td></tr></table></figure>

<p>我的ArchLinux安装到 &#x2F;dev&#x2F;nvme0n1 (后面的p1 p2这些就是分区，外接U盘一般为&#x2F;dev&#x2F;sdx1 &#x2F;dev&#x2F;sdx2等)，输入 cfdisk &#x2F;dev&#x2F;nvme0n1 进入分区界面</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cfdisk /dev/nvme0n1</span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------------------cfdisk界面---------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cfdisk 是图形化的分区，比fdisk简单很多</span></span><br><span class="line"><span class="comment"># 下面有一行操作文件，通过左右方向键可以移动到不同选项。上下方向键可以选择不同分区进行操作</span></span><br><span class="line"><span class="comment"># [New]选项为新建分区，将方向键选择到未分配的分区，选择[New]选项，回车后会提示新分区大小，输入大小即可创建一个新的分区</span></span><br><span class="line"><span class="comment"># [Quit]可以退出 cfdisk ，并且不保存修改，也就是之前做的操作一律作废</span></span><br><span class="line"><span class="comment"># [Help]选项可以查看 cfdisk 帮助</span></span><br><span class="line"><span class="comment"># [Write]选项才是真的执行写入操作，使用后会对操作的磁盘执行写入，以前做的修改会生效</span></span><br><span class="line"><span class="comment"># [Type]选项可以改变分区类型，boot分区选择EFI分区类型，根分区和home分区选ext4类型，swap分区选择Linux swap类型</span></span><br></pre></td></tr></table></figure>

<p>分区可以按照上面列出的方案，swap可以不要，但是 boot分区、根分区和home分区是必须的。分好后记得选择 [Write] 写入之后再选择 [Quit] 退出，分区错误可以选择 [Delete] 删除分区之后重新分配，写入前请再三检查，特别是选择双系统安装的，不要把其他系统数据删除了。分区完成后输入 fdisk -l 查看分区。</p>
<h4 id="2-7-格式化分区"><a href="#2-7-格式化分区" class="headerlink" title="2.7 格式化分区#"></a>2.7 格式化分区<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#27-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%88%86%E5%8C%BA">#</a></h4><p>上面的操作只是分区，需要进行格式化，不同分区需要不同的格式。格式化分区会删除所有数据，千万小心操作！</p>
<p><strong>一般分区都有跟分区（&#x2F;）、交换分区（swap）、引导分区（boot）</strong></p>
<p>格式化根分区和home分区：根分区和home分区都是Linux常见的 ext4 格式</p>
<p>Btrfs格式可以看<a target="_blank" rel="noopener" href="https://arch.icekylin.online/rookie/basic-install-detail.html#%F0%9F%94%AD-%E7%9F%A5%E5%85%B6%E7%84%B6-%E7%9F%A5%E5%85%B6%E6%89%80%E4%BB%A5%E7%84%B6">这个</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&lt;disk&gt; 为你刚才分区时指定的分区，如果忘记可以使用 fdisk -l 查看</span></span><br><span class="line">mkfs.ext4 /dev/&lt;disk&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">例如：</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mkfs.ext4 /dev/nvme0n1p1</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mkfs.ext4 /dev/nvme0n1p2</span></span><br></pre></td></tr></table></figure>

<p>格式化boot分区：引导分区采用的是FAT格式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&lt;disk&gt; 为你刚才分区时指定的分区，如果忘记可以使用 fdisk -l 查看</span></span><br><span class="line"></span><br><span class="line">mkfs.fat -F 32 /dev/&lt;disk&gt; 或者 mkfs.vfat /dev/sda1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">例如：</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mkfs.fat -F 32 /dev/nvme0n1p3</span></span><br></pre></td></tr></table></figure>

<p>格式化swap分区：交换分区不需要挂载，采用特定格式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkswap /dev/&lt;device&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">例如：</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mkswap /dev/nvme0n1p4</span></span><br></pre></td></tr></table></figure>

<h4 id="2-8-挂载分区"><a href="#2-8-挂载分区" class="headerlink" title="2.8 挂载分区#"></a>2.8 挂载分区<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#28-%E6%8C%82%E8%BD%BD%E5%88%86%E5%8C%BA">#</a></h4><p>根据上面的分区方案，将不同分区挂载到不同目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 假设分区方案为：</span></span><br><span class="line"><span class="comment"># 根分区     -&gt;   /         -&gt;  /dev/nvme0n1p1</span></span><br><span class="line"><span class="comment"># home分区   -&gt;   /home     -&gt;  /dev/nvme0n1p2</span></span><br><span class="line"><span class="comment"># boot分区   -&gt;   /boot     -&gt;  /dev/nvme0n1p3</span></span><br><span class="line"><span class="comment"># swap分区   -&gt;   不挂载    -&gt;   /dev/nvme0n1p4</span></span><br><span class="line"><span class="comment"># Linux分区由根分区开始，所以必须先挂载根目录 才能挂载其他目录，然后创建文件夹，挂载</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂载 / 目录</span></span><br><span class="line">mount /dev/nvme0n1p1 /mnt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建 /home 目录</span></span><br><span class="line"><span class="built_in">mkdir</span> /mnt/home</span><br><span class="line">mount /dev/nvme0n1p2 /mnt/home <span class="comment"># 挂载 /home 目录</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建 /mnt/boot 目录</span></span><br><span class="line"><span class="built_in">mkdir</span> /mnt/boot</span><br><span class="line">mount /dev/nvme0n1p3 /mnt/boot <span class="comment"># 挂载 /mnt/boot 目录</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂载交换分区</span></span><br><span class="line">swapon /dev/nvme0n1p4</span><br></pre></td></tr></table></figure>

<p>使用 <code>df</code> 命令复查挂载情况：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -h</span><br></pre></td></tr></table></figure>

<p>使用 <code>free</code> 命令复查 Swap 分区挂载情况：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">free -h <span class="comment"># -h 选项会使输出以人类可读的单位显示</span></span><br></pre></td></tr></table></figure>

<h4 id="2-9-安装系统"><a href="#2-9-安装系统" class="headerlink" title="2.9 安装系统#"></a>2.9 安装系统<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#29-%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F">#</a></h4><p>1.主要安装基本系统和几个待会需要用到的工具。等待安装完成，如果没有报错可以进行下一步,通过如下命令使用 <code>pacstrap</code> 脚本安装基础包：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">往/mnt目录里安装系统</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">其中最基础的四个包是base base-devel linux linux-firmware</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">linux-lts （lts:稳定版）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果内核安装了稳定版，那么独显也要是稳定版的，要不然就会发生问题（我也不知道什么问题）</span></span><br><span class="line">pacstrap /mnt base base-devel linux linux-firmware</span><br><span class="line">vim git dhcpcd e2fsprogs iwd</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果用了旧版镜像导致无法下载，一般显示GDP密钥出错，出现“User is unknown trust, installation failed“。先要安装最新密钥<code>pacman -S archlinux-keyring</code>。如果不是这个问题，就更新一下签名：<code>pacman-key --refresh-keys</code></p>
</blockquote>
<blockquote>
<p>📑 命令参数说明：</p>
<ul>
<li><code>base-devel</code> —— <code>base-devel</code> 在 <code>AUR</code> 包的安装过程中是必须用到的</li>
<li><code>linux</code> —— 内核软件包，这里建议先不要替换为其它内核</li>
</ul>
</blockquote>
<p>2.通过如下命令使用 <code>pacstrap</code> 脚本安装其它必要的功能性软件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt dhcpcd iwd vim sudo bash bash-completions ntfs-3g gvfs-mtp</span><br></pre></td></tr></table></figure>

<blockquote>
<p>📑 命令参数说明：</p>
<ul>
<li><code>bash</code> —— <code>bash-completions</code> 如果你是 zsh 的爱好者，请把这两个包换成<code>zsh-completion</code></li>
</ul>
</blockquote>
<h4 id="2-10-生成文件系统表"><a href="#2-10-生成文件系统表" class="headerlink" title="2.10 生成文件系统表#"></a>2.10 生成文件系统表<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#210-%E7%94%9F%E6%88%90%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E8%A1%A8">#</a></h4><p><code>fstab</code> 用来定义磁盘分区。它是 Linux 系统中重要的文件之一。使用 <code>genfstab</code> 自动根据当前挂载情况生成并写入 <code>fstab</code> 文件。文件系统表主要用于系统启动时自动挂载分区，不然系统无法正常启动！执行以下命令生成</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">生成 fstab文件 (用 `-U` 或 `-L` 选项设置 UUID 或卷标)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">efi + gpt</span></span><br><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">biso + mbr</span></span><br><span class="line">genfstab -p /mnt &gt;&gt; /mnt/etc/fstab</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看是否生成</span></span><br><span class="line">cat /mnt/etc/fstab</span><br></pre></td></tr></table></figure>

<p>到这一步基本系统安装已经完成，但是还没有对系统进行配置，所以现在还没到关机重启的时候。执行以下命令进入到我们安装的系统，对系统进行配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure>

<p>此时，原来安装盘下的 <code>/mnt</code> 目录就变成了新系统的 <code>/</code> 目录。同时，可以发现命令行的提示符颜色和样式也发生了改变。</p>
<h4 id="2-11-设置时区"><a href="#2-11-设置时区" class="headerlink" title="2.11 设置时区#"></a>2.11 设置时区<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#211-%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA">#</a></h4><p>设置上海为时区，并同步硬件时钟</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同步硬件时钟</span></span><br><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure>

<h4 id="2-12-本地化"><a href="#2-12-本地化" class="headerlink" title="2.12 本地化#"></a>2.12 本地化<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#212-%E6%9C%AC%E5%9C%B0%E5%8C%96">#</a></h4><p>程序和库如果需要本地化，需要依赖 <code>local</code>区域设置 ，<code>local</code>明确规定了地域、货币、时区日期的格式、字符排列方式和其他本地化标准。有两种办法，任选方案（1）和（2）中一个就行，推荐使用方法（1）</p>
<p>（1）在这两个文件设置：locale.gen 与 locale.conf。</p>
<p>编辑<code>vim /etc/locale.gen</code>，然后去掉 <code>en_US.UTF-8 UTF-8</code> 以及 <code>zh_CN.UTF-8 UTF-8</code> 行前的注释符号（<code>#</code>）：</p>
<p>接着执行 locale-gen 以生成 locale 信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新locale</span></span><br><span class="line">locale-gen</span><br></pre></td></tr></table></figure>

<p>然后创建 locale.conf 文件，并编辑设定 LANG 变量，比如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/locale.conf</span><br><span class="line">LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure>

<p>（2）在这两个文件设置：locale.gen 与 locale.conf。</p>
<p>先生成 local 信息:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">取消注释</span></span><br><span class="line">sed -i &#x27;s/^#en_US.UTF-8/en_US.UTF-8/&#x27; /etc/locale.gen</span><br><span class="line">sed -i &#x27;s/^#zh_CN.UTF-8/zh_CN.UTF-8/&#x27; /etc/locale.gen</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">生成 Local</span></span><br><span class="line">locale-gen</span><br></pre></td></tr></table></figure>

<p>创建 locale.conf 文件，并编辑设定 LANG 变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里不建议将 en_US.UTF-8 改为zh_CN.UTF-8 ，这样会导致终端乱码！</span></span><br><span class="line">echo &quot;LANG=en_US.UTF-8&quot; &gt;&gt; /etc/locale.conf</span><br><span class="line">echo &quot;LANG=en_US.UTF-8&quot; &gt;&gt; /etc/profile</span><br></pre></td></tr></table></figure>

<h4 id="2-13-主机名与hosts配置"><a href="#2-13-主机名与hosts配置" class="headerlink" title="2.13 主机名与hosts配置#"></a>2.13 主机名与hosts配置<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#213-%E4%B8%BB%E6%9C%BA%E5%90%8D%E4%B8%8Ehosts%E9%85%8D%E7%BD%AE">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里可以换成自己想要的名字，将主机名写入/etc/hostname</span></span><br><span class="line">echo &quot;ArchLinux&quot; &gt;&gt; /etc/hostname</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将 下面hostname换成自己的主机名，与 /etc/hostname 里面的名字一样</span></span><br><span class="line">echo -e &quot;127.0.0.1  localhost\n::1  localhost\n127.0.1.1 ArchLinux.localdomain  ArchLinux&quot; &gt;&gt; /etc/hosts</span><br></pre></td></tr></table></figure>

<p>如果不想使用命令，也可以直接用vim创建文件：</p>
<p>利用<code>vim</code>创建hostname文件:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hostname</span><br><span class="line">ArchLinux（主机名）</span><br></pre></td></tr></table></figure>

<p>创建hosts文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br><span class="line">127.0.0.1   localhost</span><br><span class="line">::1         localhost</span><br><span class="line">127.0.1.1   ArchLinux.localdomain	ArchLinux</span><br></pre></td></tr></table></figure>

<h4 id="2-14-设置root密码"><a href="#2-14-设置root密码" class="headerlink" title="2.14 设置root密码#"></a>2.14 设置root密码<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#214-%E8%AE%BE%E7%BD%AEroot%E5%AF%86%E7%A0%81">#</a></h4><p>虽然现在可以使用root，但是新系统里面我们还不知道root的密码，使用下面的命令更改root密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">会提示输入两次密码，关乎系统安全请牢记</span></span><br><span class="line">passwd root</span><br></pre></td></tr></table></figure>

<h4 id="2-15-安装引导程序"><a href="#2-15-安装引导程序" class="headerlink" title="2.15 安装引导程序#"></a>2.15 安装引导程序<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#215-%E5%AE%89%E8%A3%85%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F">#</a></h4><p>需要安装 Linux 引导加载程序,才能在安装后启动系统</p>
<p>安装<code>intel</code>或<code>amd</code>：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看cpu型号</span></span><br><span class="line">cat /proc/cpuinfo</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">amd 电脑安装</span></span><br><span class="line">pacman -S amd-ucode</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">intel 电脑安装</span></span><br><span class="line">pacman -S intel-ucode</span><br></pre></td></tr></table></figure>

<p>配置grub：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Arch使用grub2管理引导，安装相关程序</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">efi + gpt</span></span><br><span class="line">pacman -S grub efibootmgr efivar os-prober</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">biso + mbr</span></span><br><span class="line">pacman -S grub efivar os-prober</span><br></pre></td></tr></table></figure>

<blockquote>
<p>📑 命令参数说明：</p>
<ul>
<li><p><code>-S</code> 选项后指定要通过 <code>pacman</code>:</p>
<p>包管理器安装的包：</p>
<ul>
<li><code>grub</code> —— 启动引导器</li>
<li><code>efibootmgr</code> —— <code>efibootmgr</code> 被 <code>grub</code> 脚本用来将启动项写入 NVRAM</li>
<li><code>os-prober</code> —— 为了能够引导 win10，需要安装 <code>os-prober</code> 以检测到它</li>
</ul>
</li>
</ul>
</blockquote>
<p>安装引导：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--bootloader-id=name  其中 name 可以更改为自己想要的名称，建议简短明确</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">efi + gpt</span></span><br><span class="line"></span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Arch --recheck</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">biso + mbr</span></span><br><span class="line"></span><br><span class="line">grub-install --target=i386-pc /dev/nvme0n1</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">说明</span></span><br><span class="line">grub-install *安装grub*</span><br><span class="line"></span><br><span class="line">--target=x86_64-efi      *目标架构x86架构64位 efi启动方式  若不确定使用uname -a 可以查看*</span><br><span class="line"></span><br><span class="line">--efi-directory=/boot      *就是我sda1挂载的/boot位置*,将 grubx64.efi 安装到之前的指定位置（EFI 分区）</span><br><span class="line"></span><br><span class="line">--bootloader-id=Arch     *这里的Arch名字可以自行更改 甚至这一段都可以不用写*</span><br></pre></td></tr></table></figure>

<p>接下来使用 <code>vim</code> 编辑 <code>/etc/default/grub</code> 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/default/grub</span><br></pre></td></tr></table></figure>

<p>进行如下修改：</p>
<ul>
<li>去掉 <code>GRUB_CMDLINE_LINUX_DEFAULT</code> 一行中最后的 <code>quiet</code> 参数</li>
<li>把 <code>loglevel</code> 的数值从 <code>3</code> 改成 <code>5</code>。这样是为了后续如果出现系统错误，方便排错</li>
<li>加入 <code>nowatchdog</code> 参数，这可以显著提高开关机速度</li>
</ul>
<p>grub2默认禁用了 os-prober ，如果你是选择的双系统或多系统安装，需要手动开启该选项，os-prober 可以检查其他硬盘上的其他系统引导，如果不开启，可能无法识别其他系统，如果你是全盘单系统安装，可以忽略这个选项</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">需要开启 os-prober 执行下面命令</span></span><br><span class="line">echo &quot;GRUB_DISABLE_OS_PROBER=false&quot; &gt;&gt; /etc/default/grub</span><br></pre></td></tr></table></figure>

<p>生成引导配置文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>

<p>如果出现错误，请回头检查命令是否输入错误或者配置是否出错，安装时的一点错误都可能成为你无法开机的原因或者以后使用时的bug。如果检查没有问题，那么我们就可以进行最后的一点设置了。</p>
<h4 id="2-16-配置开机启动项"><a href="#2-16-配置开机启动项" class="headerlink" title="2.16 配置开机启动项#"></a>2.16 配置开机启动项<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#216-%E9%85%8D%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E9%A1%B9">#</a></h4><p>ArchLinux 使用 systemd 管理后台服务，我们希望开机之后自动连接网络，所以需要下载联网程序并设置开机自启动：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下载wifi 管理</span></span><br><span class="line">pacman -S dhcpcd iwd networkmanager</span><br><span class="line">pacman -S vim sudo bash-completion  iproute2  neofetch yay zsh fish</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置开机自启动</span></span><br><span class="line">systemctl enable dhcpcd</span><br><span class="line">systemctl enable iwd</span><br><span class="line">systemctl enable NetworkManager</span><br></pre></td></tr></table></figure>

<h4 id="2-17-新建用户"><a href="#2-17-新建用户" class="headerlink" title="2.17 新建用户#"></a>2.17 新建用户<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#217-%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7">#</a></h4><p>开机之后会显示一个终端的登陆界面，由于我们刚才安装时没有新建用户，默认只有一个root用户，所以我们直接使用 root 和 root 密码登录。运行以下命令新建用户：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&lt;username&gt; 为你自己的用户名，登录用，注意用户名必须全小写</span></span><br><span class="line">useradd -m -G wheel -s /bin/bash &lt;username&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置用户密码</span></span><br><span class="line">passwd &lt;username&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>📑 命令参数说明：</p>
<ul>
<li><p><code>-m</code> 创建用户的同时创建用户家目录</p>
</li>
<li><pre><code>-G
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  选项后指定附加组</span><br><span class="line"></span><br><span class="line">  - `wheel` —— `wheel` 附加组可 `sudo` 进行提权</span><br><span class="line"></span><br><span class="line">- `-s` 选项后指定 shell 程序</span><br><span class="line"></span><br><span class="line">- `myusername` —— 用户名（**请自定义**，但不要包含空格和特殊字符）</span><br><span class="line"></span><br><span class="line">使用 `vim` 编辑器通过 `visudo` 命令编辑 `sudoers` 文件：</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">EDITOR=vim visudo # 这里需要显式的指定编辑器，因为上面的环境变量还未生效</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</blockquote>
<p>找到如下这样的一行，把前面的注释符号 <code>#</code> 去掉：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#%wheel ALL=(ALL) ALL</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>📑 这里稍微解释一下：</p>
<ul>
<li><code>%wheel</code> —— 用户名或用户组，此处则代表是 <code>wheel</code> 组，<code>%</code> 是用户组的前缀</li>
<li><code>ALL=</code> —— 主机名，此处则代表在所有主机上都生效（如果把同样的 <code>sudoers</code> 文件下发到了多个主机上）</li>
<li><code>(ALL)</code> —— 用户名，此处则代表可以成为任意目标用户</li>
<li>最后的 <code>ALL</code> —— 代表可以执行任意命令</li>
</ul>
</blockquote>
<h4 id="2-18-结束"><a href="#2-18-结束" class="headerlink" title="2.18 结束#"></a>2.18 结束<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#218-%E7%BB%93%E6%9D%9F">#</a></h4><p>到了这里ArchLinux的安装也就到了尾声，接下来你只需要退出安装程序，然后取消挂载分区，重启选择Arch系统就可以进入ArchLinux了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">退出<span class="built_in">arch</span> root 安装环境</span></span><br><span class="line">exit</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">取消挂载</span></span><br><span class="line">umount -R /mnt</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启并拔出U盘</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h3 id="三-安装图形界面-KDE"><a href="#三-安装图形界面-KDE" class="headerlink" title="三. 安装图形界面 KDE#"></a>三. 安装图形界面 KDE<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%B8%89-%E5%AE%89%E8%A3%85%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2-kde">#</a></h3><blockquote>
<p><strong>没插网线重启后wifi记得重新连接！</strong></p>
</blockquote>
<p>设置开机自启并立即启动 dhcp 服务，即可连接网络：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> --now dhcpcd <span class="comment"># 设置开机自启并立即启动 dhcp 服务</span></span><br><span class="line">ping www.baidu.com <span class="comment"># 测试网络连接</span></span><br></pre></td></tr></table></figure>

<p>喜欢i3的可以看<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42826353/article/details/107986788">这篇文章</a></p>
<h4 id="1-窗口图形系统-Xorg"><a href="#1-窗口图形系统-Xorg" class="headerlink" title="1.窗口图形系统 Xorg#"></a>1.窗口图形系统 Xorg<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1%E7%AA%97%E5%8F%A3%E5%9B%BE%E5%BD%A2%E7%B3%BB%E7%BB%9F-xorg">#</a></h4><p>开机之后会显示一个终端的登陆界面，开始安装kde。必须需要提一句，安装桌面环境需要在普通用户下安装，如果你刚创建完用户，还请重启后用普通用户登录在进行接下来的教程。</p>
<p>窗口图形系统有两种选择——Xorg和Wayland。虽然可以使用 Wayland 启动 KDE Plasma，但仍存在一些缺失的功能和已知问题。建议使用 Xorg 以获得最完整和稳定的体验。</p>
<p>执行下面命令安装 Xorg 的一些组件（提示全部回车确认）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S xorg-server xorg-apps xorg-xinit xorg-xclock xterm</span><br></pre></td></tr></table></figure>

<p>安装完成后，可执行 <code>startx</code> 命令测试 Xorg 是否正常工作。（执行 exit 退出 Xorg 测试界面）</p>
<h4 id="2-KDE-Plasma"><a href="#2-KDE-Plasma" class="headerlink" title="2.KDE Plasma#"></a>2.KDE Plasma<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2kde-plasma">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行下面命令安装 KDE Plasma（提示全部回车确认）：</span></span><br><span class="line">sudo pacman -S plasma</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果你想一次性安装全部 KDE 应用，可执行下面命令（可选）</span></span><br><span class="line">sudo pacman -S kde-applications</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下面是安装个人喜欢的一些 KDE 应用</span></span><br><span class="line">sudo pacman -S dolphin konsole kate kdeconnect ark gwenview filelight kcalc kdenlive krita kdiskmark</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">（KDE 全部应用详见 https://apps.kde.org/zh-cn/）</span></span><br></pre></td></tr></table></figure>

<h4 id="3-启用登录管理器-SDDM"><a href="#3-启用登录管理器-SDDM" class="headerlink" title="3. 启用登录管理器 SDDM#"></a>3. 启用登录管理器 SDDM<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#3-%E5%90%AF%E7%94%A8%E7%99%BB%E5%BD%95%E7%AE%A1%E7%90%86%E5%99%A8-sddm">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">sddm 开机自启</span></span><br><span class="line">sudo systemctl enable sddm</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启用 SDDM，进入桌面环境</span></span><br><span class="line">sudo systemctl start sddm</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>进入桌面后、可通过Alt + Enter快捷键弹出全局搜索框，可以快速搜索打开想要打开的应用，本人打开应用程序99%都是使用这种方式，非常快速便捷！！！</strong></p>
</blockquote>
<h4 id="4-设置网络管理器"><a href="#4-设置网络管理器" class="headerlink" title="4.设置网络管理器#"></a>4.设置网络管理器<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#4%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%99%A8">#</a></h4><p>如果之前网络是由iwd终端连接wifi的，此刻需要在 iwd 终端忘记之前的连接。否则每次开机都会终端自动连接Wifi导致页面网络管理器不可用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">disable</span> iwd <span class="comment"># 确保 iwd 开机处于关闭状态，因为其无线连接会与 NetworkManager 冲突</span></span><br><span class="line">sudo systemctl stop iwd <span class="comment"># 立即关闭 iwd</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> --now NetworkManager <span class="comment"># 确保先启动 NetworkManager，并进行网络连接。若 iwd 已经与 NetworkManager 冲突，则执行完上一步重启一下电脑即可</span></span><br><span class="line">ping www.bilibili.com <span class="comment"># 测试网络连通性</span></span><br><span class="line">iwd</span><br><span class="line"><span class="comment"># 列出以前连接过的网络</span></span><br><span class="line">[iwd]<span class="comment"># known-networks list</span></span><br><span class="line"><span class="comment"># 忘记已知的网络</span></span><br><span class="line">[iwd]<span class="comment"># known-networks 网络名 forget</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 最后点击页面的网络图标连接网络即可</span></span><br></pre></td></tr></table></figure>

<h4 id="5-浏览器及字体下载"><a href="#5-浏览器及字体下载" class="headerlink" title="5.浏览器及字体下载#"></a>5.浏览器及字体下载<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#5%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8F%8A%E5%AD%97%E4%BD%93%E4%B8%8B%E8%BD%BD">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入桌面环境后，按 Ctrl+Alt+T 可打开终端。执行下面命令安装 Firefox</span></span><br><span class="line">sudo pacman -S firefox</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">一次性安装常用中文字体</span></span><br><span class="line">wqy-microhei # 文泉驿</span><br><span class="line">adobe-source-sans-fonts  # 思源黑体</span><br><span class="line">harmonyos-sans-git  # 鸿蒙黑体</span><br><span class="line">ttf-misans  # MiSans</span><br><span class="line"></span><br><span class="line">sudo pacman -S wqy-microhei wqy-microhei-lite wqy-bitmapfont wqy-zenhei ttf-arphic-ukai adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开发人员最喜欢的字体没有之一</span></span><br><span class="line">yay -S ttf-fira-code</span><br></pre></td></tr></table></figure>

<h4 id="6-KDE-界面改成中文"><a href="#6-KDE-界面改成中文" class="headerlink" title="6.KDE 界面改成中文#"></a>6.KDE 界面改成中文<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#6kde-%E7%95%8C%E9%9D%A2%E6%94%B9%E6%88%90%E4%B8%AD%E6%96%87">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打开 System Settings -&gt; Regional Settings -&gt; Language(modify)</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">点击 Add More languages，往下翻找到简体中文点击 Add</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">点击简体中文一栏右侧的向上箭头，将简体中文的优先级置顶，然后点击 apply</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">点击左侧的 Formats，然后点击右侧的 Region</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在搜索框里输入 zh_CN，点击 简体中文（中国）</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后再点击右下角的apply。注销后重新登录，即可看到中文界面</span></span><br></pre></td></tr></table></figure>

<h4 id="7-设置显示器全局缩放率"><a href="#7-设置显示器全局缩放率" class="headerlink" title="7. 设置显示器全局缩放率#"></a>7. 设置显示器全局缩放率<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#7-%E8%AE%BE%E7%BD%AE%E6%98%BE%E7%A4%BA%E5%99%A8%E5%85%A8%E5%B1%80%E7%BC%A9%E6%94%BE%E7%8E%87">#</a></h4><p>现在越来越多的人开始用高分屏了，设置一个合适的全局缩放率就很有必要了。<br>在系统设置的显卡与显示器 -&gt; 显示器配置中可以调节全局缩放率（注销后重新登录生效）。</p>
<h3 id="四-基本设置"><a href="#四-基本设置" class="headerlink" title="四. 基本设置#"></a>四. 基本设置<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E5%9B%9B-%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE">#</a></h3><h4 id="1-中文输入法"><a href="#1-中文输入法" class="headerlink" title="1. 中文输入法#"></a>1. 中文输入法<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95">#</a></h4><p>安装字体</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">英文字体</span></span><br><span class="line">pacman -S ttf-dejavu</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">文泉驿正黑矢量字体</span></span><br><span class="line">pacman -S wqy-zenhei</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">pacman -S wqy-microhei</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Emoji 字体</span></span><br><span class="line">pacman -S noto-fonts-emoji</span><br></pre></td></tr></table></figure>

<p>配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Arch Linux可以安装安装fcitx5 实现输入中文，具体步骤如下（一路回车即可）</span></span><br><span class="line">sudo pacman -S fcitx5-rime # 对经典的 Rime IME 输入法的包装，内置了繁体中文和简体中文的支持</span><br><span class="line">sudo pacman -S fcitx5-im # 输入法基础包组</span><br><span class="line">sudo pacman -S fcitx5-chinese-addons # 官方中文输入引擎</span><br><span class="line">sudo pacman -S fcitx5-anthy # 日文输入引擎</span><br><span class="line">sudo pacman -S fcitx5-pinyin-moegirl # 萌娘百科词库。二刺猿必备</span><br><span class="line">sudo pacman -S fcitx5-pinyin-zhwiki # 中文维基百科创建的词库</span><br><span class="line">sudo pacman -S fcitx5-material-color # 输入法主题</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">fcitx5-chinese-addons 包含了大量中文输入方式：拼音、双拼、五笔拼音、自然码、仓颉、冰蟾全息、二笔等</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后在环境变量配置文件/etc/environment中添加如下内容</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/etc/environment</span></span><br><span class="line">GTK_IM_MODULE=fcitx</span><br><span class="line">QT_IM_MODULE=fcitx</span><br><span class="line">XMODIFIERS=@im=fcitx</span><br><span class="line">SDL_IM_MODULE=fcitx</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">配置完成之后重启电脑或者注销</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后配置自动启动，提供以下3种方法，第一个不行，试第2个，然后第3个</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. 如果，支持XDG桌面环境，例如KDE,GNOME, Xfce,默认重启后即可</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2. 在~/.config/autostart目录下添加fcitx-autostart.desktop文件，</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">   可以从目录etc/xdg/autostart中复制</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.对于i3-wm,可以在配置文件~/.config/i3/config中添加如下代码</span></span><br><span class="line">exec_always --no-startup-id fcitx5</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">输入法模块:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在只安装 fcitx5 和 输入法引擎 的情况下您可能依然可以正常输入</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">但是安装对应的 输入法模块 后您将获得更加舒适的体验：</span></span><br><span class="line"></span><br><span class="line">fcitx5-qt  # 对 Qt5 程序的支持</span><br><span class="line">fcitx5-gtk # 对 GTK 程序的支持</span><br><span class="line">fcitx5-qt4-gitAUR # 对 Qt4 程序的支持</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">提示： 一般情况下，只安装 fcitx5-qt 和 fcitx5-gtk 就行了</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">词库</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">对于 Fcitx5 的中文输入法, 目前在仓库里提供了数个词库：</span></span><br><span class="line">fcitx5-pinyin-zhwiki # felixonmars 根据中文维基百科创建的词库。适用于 拼音输入法</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">idea不能输入中文的问题</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在IDEA的bin目录下的idea.sh文件的前面加上</span></span><br><span class="line">export XIM=&quot;fcitx&quot;</span><br><span class="line">export XIM_PROGRAM=&quot;fcitx&quot;</span><br><span class="line">export XMODIFIERS=&quot;@im=fcitx&quot;</span><br><span class="line">export GTK_IM_MODULE=&quot;fcitx&quot;</span><br><span class="line">export QT_IM_MODULE=&quot;fcitx&quot;</span><br></pre></td></tr></table></figure>

<p>添加中文输入法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">setting -&gt; 语言和区域设置 -&gt; 输入法</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">去掉默认的输入法</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加输入法并应用（默认通过快捷键 ctrl + space 切换中英文）</span></span><br><span class="line">Pinyin</span><br><span class="line">键盘-英语(美国)</span><br></pre></td></tr></table></figure>

<h4 id="2-蓝牙"><a href="#2-蓝牙" class="headerlink" title="2. 蓝牙#"></a>2. 蓝牙<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2-%E8%93%9D%E7%89%99">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装蓝牙并启动蓝牙服务</span></span><br><span class="line">sudo pacman -S bluez bluez-utils</span><br><span class="line">sudo systemctl enable bluetooth.service</span><br><span class="line">sudo systemctl start bluetooth.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用Bluetoothctl进入蓝牙控制台</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Bluez是Linux系统上的蓝牙协议栈，自带了很多有用的工具，Bluetoothctl就是其一。</span></span><br><span class="line">bluetoothctl --help              # 查看帮助命令</span><br><span class="line">bluetoothctl -v                  # 查看蓝牙版本</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用Bluetoothctl连接蓝牙案例</span></span><br><span class="line">bluetoothctl                     # 进入蓝牙管理工具环境</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># power on                打开蓝牙</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># agent on                开启</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># scan on                 扫描蓝牙设备</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># pair xx:xx:xx:...       配对该设备</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># trust xx:xx:xx:...      信任该设备</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># connect xx:xx:...       连接该设备</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># disconnect xx:xx:...    断开蓝牙</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># help                    查看帮助信息</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># show                    查看本机蓝牙信息</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># discoverable yes        设置蓝牙可被发现</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">[bluetooth]<span class="comment"># info xx:xx:xx:...       查看该蓝牙设备的信息</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装蓝牙音频</span></span><br><span class="line">sudo pacman -S pulseaudio-bluetooth</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">蓝牙图形化管理工具安装</span></span><br><span class="line">sudo pacman -S bluedevil</span><br></pre></td></tr></table></figure>

<h4 id="3-pacman-32位运行库与ArchLinuxCN库的支持-以及一些镜像源"><a href="#3-pacman-32位运行库与ArchLinuxCN库的支持-以及一些镜像源" class="headerlink" title="3. pacman 32位运行库与ArchLinuxCN库的支持,以及一些镜像源#"></a>3. pacman 32位运行库与ArchLinuxCN库的支持,以及一些镜像源<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#3-pacman-32%E4%BD%8D%E8%BF%90%E8%A1%8C%E5%BA%93%E4%B8%8Earchlinuxcn%E5%BA%93%E7%9A%84%E6%94%AF%E6%8C%81%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%BA%9B%E9%95%9C%E5%83%8F%E6%BA%90">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑配置文件，添加以下软件源</span></span><br><span class="line">vim /etc/pacman.d/mirrorlist</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">---------------下面为vim操作，不同于终端-------------</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">中科大源</span></span><br><span class="line">Server = https://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">阿里源</span></span><br><span class="line">Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">清华源</span></span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">华为源</span></span><br><span class="line">Server = https://repo.huaweicloud.com/archlinux/$repo/os/$arch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">163源 （i686 和 x86_64）</span></span><br><span class="line">Server = http://mirrors.163.com/archlinux/$repo/os/i686</span><br></pre></td></tr></table></figure>

<p>为了系统的稳定，官方关闭了32位软件以及aur软件库，但是仅仅只依靠官方源中的软件时不够用的，这里我们要打开这两个库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/pacman.conf</span><br></pre></td></tr></table></figure>

<h5 id="multilib"><a href="#multilib" class="headerlink" title="multilib"></a>multilib</h5><p>去掉[multilib]一节中两行的注释，来开启 32 位库支持。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">取消掉 <span class="comment"># 号</span></span></span><br><span class="line">[multilib]</span><br><span class="line">Include = /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure>

<h5 id="Arch-Linux-CN"><a href="#Arch-Linux-CN" class="headerlink" title="Arch Linux CN"></a>Arch Linux CN</h5><p>在文档结尾处加入下面的文字，来开启 ArchLinuxCN 源。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">Server = https://mirrors.ustc.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br></pre></td></tr></table></figure>

<p>执行 <code>sudo pacman -Syyu</code> 更新pacman数据库</p>
<p>然后需要安装 <code>archlinuxcn-keyring</code> 包以导入 GPG key</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S archlinuxcn-keyring</span><br></pre></td></tr></table></figure>

<p>有时候因为密钥环的问题，导致这一步安装报错，可以依次执行下面的命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syyu</span><br><span class="line">sudo pacman -S haveged</span><br><span class="line">sudo pacman -Syu haveged</span><br><span class="line">sudo systemctl start haveged</span><br><span class="line">sudo systemctl enable haveged</span><br><span class="line"></span><br><span class="line">sudo rm -fr /etc/pacman.d/gnupg</span><br><span class="line">sudo pacman-key --init</span><br><span class="line">sudo pacman-key --populate archlinux</span><br><span class="line">sudo pacman-key --populate archlinuxcn</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如果 系统长时间不更新，可能也会出现问题</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新密钥</span></span><br><span class="line">pacman-key --refresh-keys</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意：keyserver如果是国外的更新很慢，以下是其他kerserker服务，可以指定更新服务器：</span></span><br><span class="line">sudo pacman-key --refresh-keys --keyserver http://pgp.mit.edu</span><br></pre></td></tr></table></figure>

<p>然后再重新安装，即可解决问题</p>
<p>最后安装 <code>yay</code> 用来下载<code>archlinuxcn</code>库中的软件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S yay</span><br></pre></td></tr></table></figure>

<h5 id="BlackArch-镜像源"><a href="#BlackArch-镜像源" class="headerlink" title="BlackArch 镜像源"></a>BlackArch 镜像源</h5><p>Arch Linux 添加 BlackArch 镜像源：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Arch Linux 添加 BlackArch 镜像源</span></span><br><span class="line">sudo vim /etc/pacman.conf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在最后面添加如下几行</span></span><br><span class="line">[blackarch]</span><br><span class="line">SigLevel = Never</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">国内镜像源</span></span><br><span class="line">Server = https://mirrors.ustc.edu.cn/blackarch/$repo/os/$arch</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Server = https://mirrors.tuna.tsinghua.edu.cn/blackarch/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></span></span><br><span class="line">安装 BlackArch GPG 密钥</span><br><span class="line">sudo pacman -S blackarch-keyring</span><br><span class="line">同时建议安装 blackarch-mirrorlist 包</span><br><span class="line">yay -S blackarch-mirrorlist</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">取消当前所在区域的镜像源注释</span></span><br><span class="line">sudo vim /etc/pacman.d/blackarch-mirrorlist</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">如：</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">China</span></span><br><span class="line">Server = https://mirror.sjtu.edu.cn/blackarch/$repo/os/$arch</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/blackarch/$repo/os/$arch</span><br><span class="line">Server = https://mirrors.ustc.edu.cn/blackarch/$repo/os/$arch</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改 /etc/pacman.conf</span></span><br><span class="line">sudo vim /etc/pacman.conf</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重新修改 [blackarch] 让其优先使用 blackarch-mirrorlist</span></span><br><span class="line">[blackarch]</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">SigLevel = Never</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Server = https://mirrors.ustc.edu.cn/blackarch/<span class="variable">$repo</span>/os/<span class="variable">$arch</span></span></span><br><span class="line">Include = /etc/pacman.d/blackarch-mirrorlist</span><br></pre></td></tr></table></figure>

<h5 id="Chaotic-AUR"><a href="#Chaotic-AUR" class="headerlink" title="Chaotic-AUR"></a>Chaotic-AUR</h5><p><code>Chaotic-AUR</code> 中包含一些经过编译的 AUR 软件</p>
<p>导入 <code>Chaotic-AUR</code> 的 Pacman 密钥并安装 mirrorlist</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman-key --recv-key FBA220DFC880C036 --keyserver keyserver.ubuntu.com</span><br><span class="line">pacman-key --lsign-key FBA220DFC880C036</span><br><span class="line">pacman -U <span class="string">&#x27;https://cdn-mirror.chaotic.cx/chaotic-aur/chaotic-keyring.pkg.tar.zst&#x27;</span> <span class="string">&#x27;https://cdn-mirror.chaotic.cx/chaotic-aur/chaotic-mirrorlist.pkg.tar.zst&#x27;</span></span><br></pre></td></tr></table></figure>

<p>然后在 <code>/etc/pacman.conf</code> 最下方加入以下两行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[chaotic-aur]</span><br><span class="line">Include = /etc/pacman.d/chaotic-mirrorlist</span><br></pre></td></tr></table></figure>

<p>然后更新软件源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Sy</span><br></pre></td></tr></table></figure>

<p>如果速度过慢可以尝试使用反代服务</p>
<h5 id="Clansty"><a href="#Clansty" class="headerlink" title="Clansty"></a>Clansty</h5><p>同样也是一些编译后的 AUR 软件</p>
<p>在 <code>/etc/pacman.conf</code> 最下方加入:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Clansty]</span><br><span class="line">SigLevel = Never</span><br><span class="line">Server = https://repo.lwqwq.com/archlinux/$arch</span><br><span class="line">Server = https://pacman.ltd/archlinux/$arch</span><br><span class="line">Server = https://repo.clansty.com/archlinux/$arch</span><br></pre></td></tr></table></figure>

<p>然后更新软件源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Sy</span><br></pre></td></tr></table></figure>

<h4 id="4-安装-AUR（yay）（添加CN源之后可以之间安装yay-此步骤可以省略）"><a href="#4-安装-AUR（yay）（添加CN源之后可以之间安装yay-此步骤可以省略）" class="headerlink" title="4.安装 AUR（yay）（添加CN源之后可以之间安装yay,此步骤可以省略）#"></a>4.安装 AUR（yay）（添加CN源之后可以之间安装yay,此步骤可以省略）<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#4%E5%AE%89%E8%A3%85-auryay%E6%B7%BB%E5%8A%A0cn%E6%BA%90%E4%B9%8B%E5%90%8E%E5%8F%AF%E4%BB%A5%E4%B9%8B%E9%97%B4%E5%AE%89%E8%A3%85yay%E6%AD%A4%E6%AD%A5%E9%AA%A4%E5%8F%AF%E4%BB%A5%E7%9C%81%E7%95%A5">#</a></h4><p>官方仓库的软件实在是太少了， AUR（Arch 用户软件仓库，全称 Arch User Repository）里有许多软件。AUR 是为用户而建、由用户主导的 Arch 软件仓库。</p>
<p>从 AUR 安装软件包，需要先安装 AUR Helper，这里以最有名的 yay 为例。yay 是一个用 Go 语言开发的 AUR Helper，具有高级依赖解决、PKGBUILD 下载、AUR 包名自动补全、移除生成依赖等功能。添加archlinuxcn源之后使用下面命令安装 yay（Binary 版本，无需自己编译）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S yay</span><br></pre></td></tr></table></figure>

<p>底下是使用git下载</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pacman -S --needed git base-devel</span><br><span class="line">git clone https://aur.archlinux.org/yay-bin.git</span><br><span class="line">cd yay-bin</span><br><span class="line">makepkg -si</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：执行 yay 的所有命令时，前面不需要加 sudo</p>
</blockquote>
<h4 id="5-pacman-yay-常用操作"><a href="#5-pacman-yay-常用操作" class="headerlink" title="5. pacman&#x2F;yay 常用操作#"></a>5. pacman&#x2F;yay 常用操作<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#5-pacmanyay-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C">#</a></h4><blockquote>
<p>以下操作对 <code>yay</code> 同样适用</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.系统更新</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  对整个archLinux进行更新</span></span><br><span class="line">pacman -Syu</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  如果你已经使用 pacman -Sy 将本地的包数据库与远程的仓库进行了同步,也可以只执行:</span></span><br><span class="line">pacman -Su</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  如提示冲突，可强制更新(<span class="built_in">dd</span>跳过所有检查)</span></span><br><span class="line">pacman -Syudd</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.安装包</span></span><br><span class="line">pacman -S 包名                   # 你也可以同时安装多个包, 只需以空格分隔包名即可</span><br><span class="line">pacman -Sy 包名                  # 与上面命令不同的是,该命令将在同步包数据库后再执行安装</span><br><span class="line">pacman -Sv 包名                  # 在显示一些操作信息后执行安装</span><br><span class="line">pacman -U  包名.tar.gz           # 安装本地包,其扩展名为 pkg.tar.gz</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.删除包</span></span><br><span class="line">pacman -R 包名                   # 该命令将只删除包,不包含该包的依赖</span><br><span class="line">pacman -Rs 包名                  # 在删除包的同时,也将删除其依赖</span><br><span class="line">pacman -Rd 包名                  # 在删除包时不检查依赖</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4.搜索包</span></span><br><span class="line">pacman -Ss 关键字                # 这将搜索含关键字的包</span><br><span class="line">pacman -Qi 包名                  # 查看有关包的信息</span><br><span class="line">pacman -Ql 包名                  # 列出该包的文件</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5.其他用法</span></span><br><span class="line">sudo pacman -R $(pacman -Qdtq)  # 清除系统中无用的包</span><br><span class="line">pacman -Sw 包名                  # 只下载包,不安装</span><br><span class="line">pacman -Sc                      # Pacman下载的包文件位于 /var/cache/pacman/pkg/ 目录</span><br><span class="line">                                # 该命令将清理未安装的包文件</span><br><span class="line">pacman -Scc                     # 清理所有的缓存文件</span><br></pre></td></tr></table></figure>

<h4 id="6-pacman安装-常用软件"><a href="#6-pacman安装-常用软件" class="headerlink" title="6. pacman安装 常用软件#"></a>6. pacman安装 常用软件<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#6-pacman%E5%AE%89%E8%A3%85-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">openssh               # ssh 链接远程服务器</span><br><span class="line">peek                  # GIF录制</span><br><span class="line">tree                  # 玩 Linux 的朋友都知道该命令</span><br><span class="line">python-pip            # Python 用户必备</span><br><span class="line">neovim                # vim 党福音</span><br><span class="line">neofetch              # 查看系统信息</span><br><span class="line">screenkey             # 显示按下的键</span><br><span class="line">figlet                # 生成一个 logo</span><br><span class="line">iputils               # 允许用户使用 ping 命令</span><br><span class="line">wget                  # 下载工具</span><br><span class="line">chromium			  # Chromium</span><br><span class="line">firefox				  # Firefox</span><br><span class="line">intellij-idea-community-edition		# IntelliJ IDEA Community Edition</span><br><span class="line">pycharm-community-edition			# PyCharm Community Edition</span><br><span class="line">libreoffice-fresh libreoffice-fresh-zh-cn 	  # 办公套件LibreOffice</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">udisk2 udiskie : 自动挂载U盘修改</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ntfs-3g ： 读取ntfs格式磁盘</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">dolphin : 文件管理器</span></span><br><span class="line">sudo pacman -S udisks2 udiskie ntfs-3g  dolphin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开机自启自动挂载U盘</span></span><br><span class="line">systemctl enable udisks2</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动 ssh 服务</span></span><br><span class="line">systemctl start sshd</span><br><span class="line">systemctl enable sshd</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Virtualbox 安装与配置</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  需要安装linux-headers</span></span><br><span class="line">sudo pacman -S linux-headers</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  确认linux内核版本,确保linux-headers的版本和linux版本相同</span></span><br><span class="line">uname -r</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  安装 virtualbox,执行命令后，会提示选择安装virtualbox软件类型，选择virtualbox-host-dkms</span></span><br><span class="line">sudo pacman -Syu virtualbox</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  安装virtualbox-guest-iso</span></span><br><span class="line">sudo pacman -S virtualbox-guest-iso</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">把当前用户增加到vboxusers组</span></span><br><span class="line">sudo usermod -G  vboxusers -a  myuser</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">pip更换国内镜像源</span></span><br><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line">sudo pacman -S ntfs-3g # 使系统可以识别 NTFS 格式的硬盘</span><br><span class="line">sudo pacman -S adobe-source-han-serif-cn-fonts wqy-zenhei # 安装几个开源中文字体。一般装上文泉驿就能解决大多 wine 应用中文方块的问题</span><br><span class="line">sudo pacman -S noto-fonts noto-fonts-cjk noto-fonts-emoji noto-fonts-extra # 安装谷歌开源字体及表情</span><br><span class="line">sudo pacman -S firefox chromium # 安装常用的火狐、chromium 浏览器</span><br><span class="line">sudo pacman -S ark # 压缩软件。在 dolphin 中可用右键解压压缩包</span><br><span class="line">sudo pacman -S packagekit-qt5 packagekit appstream-qt appstream # 确保 Discover（软件中心）可用，需重启</span><br><span class="line">sudo pacman -S gwenview # 图片查看器</span><br><span class="line">sudo pacman -S steam # 游戏商店。稍后看完显卡驱动章节再使用</span><br></pre></td></tr></table></figure>

<h4 id="7-yay-常用软件"><a href="#7-yay-常用软件" class="headerlink" title="7. yay 常用软件#"></a>7. yay 常用软件<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#7-yay-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装 AUR 软件</span></span><br><span class="line">yay -S 包名</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用 yay 安装下面软件之前，请先确保基础打包工具（base-devel）已经安装</span></span><br><span class="line">yay -S base-devel</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">防火墙</span></span><br><span class="line">yay -S firewalld</span><br><span class="line">systemctl enable --now firewalld</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">常用 aur 软件</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">===&gt; 编程软件</span></span><br><span class="line">yay -S visual-studio-code-bin  #  Visual Studio Code</span><br><span class="line">yay -S intellij-idea-ultimate-edition intellij-idea-ultimate-edition-jre  # idea</span><br><span class="line">yay -S pycharm-professional		# PyCharm Professional</span><br><span class="line">yay -S intellij-idea-ultimate-edition		# IntelliJ IDEA Ultimate Edition</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">===&gt; 浏览器</span></span><br><span class="line">yay -S google-chrome  # google 浏览器</span><br><span class="line">yay -S microsoft-edge-stable-bin # edge 浏览器</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">===&gt; 办公软件</span></span><br><span class="line"></span><br><span class="line">yay -S wps-office-cn wps-office-mui-zh-cn ttf-wps-fonts #  WPS Office</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">===&gt; 社交软件</span></span><br><span class="line">yay -S icalingua++ # Icalingua++（第三方Linux QQ）</span><br><span class="line">yay -S deepin-wine-tim  # win tim</span><br><span class="line">yay -S deepin-wine-wechat  # win 微信</span><br><span class="line">yay -S com.tencent.weixin # 微信</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">===&gt; 实用工具</span></span><br><span class="line">yay -S wemeet-bin			 # 腾讯会议</span><br><span class="line">yay -S utools                # uTools搜索</span><br><span class="line">yay -S flameshot             # 火焰截图</span><br><span class="line">yay -S motrix-bin            # 下载工具</span><br><span class="line">yay -S kdiskmark-git         # 磁盘检测工具</span><br><span class="line">yay -S gimp                  # 图像处理</span><br><span class="line">yay -S kdenlive              # 视频后期</span><br><span class="line">yay -S baidunetdisk-electron # 百度盘</span><br><span class="line">yay -S xunlei-bin            # 迅雷</span><br><span class="line">yay -S netease-cloud-music   # 网易云</span><br><span class="line">yay -S obs-studio            # obs</span><br><span class="line">yay -S p7zip                 # 压缩</span><br><span class="line">yay -S unrar                 # 压缩</span><br></pre></td></tr></table></figure>

<blockquote>
<p>所有 AUR 软件可在 <a target="_blank" rel="noopener" href="https://aur.archlinux.org/">https://aur.archlinux.org/</a> 上查询。</p>
</blockquote>
<h4 id="8-显卡驱动与双显卡切换"><a href="#8-显卡驱动与双显卡切换" class="headerlink" title="8. 显卡驱动与双显卡切换#"></a>8. 显卡驱动与双显卡切换<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#8-%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%8F%8C%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2">#</a></h4><p>首先，安装<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8&spm=1001.2101.3001.7020">显卡驱动</a>。mesa是所有开源显卡驱动的基础，一般都要安装。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看显卡型号</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">自带核显</span></span><br><span class="line">lspci |grep VGA</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看其它独显</span></span><br><span class="line">lspci |grep -i nvida</span><br></pre></td></tr></table></figure>

<p>这里，我们尽量给安装完整，有几大功能：<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=OpenGL&spm=1001.2101.3001.7020">OpenGL</a>, vulkan, vaapi, vdpau, opencl. 32位的程序也要使用并安装相应的驱动 (请先更新pacman 32运行库)。系统是archlinux，用的官方内核。</p>
<p>Intel显卡驱动安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S mesa xf86-video-intel vulkan-intel</span><br><span class="line">sudo pacman -S libva-intel-driver libvdpau-va-gl intel-compute-runtime</span><br><span class="line">sudo pacman -S lib32-vulkan-intel lib32-mesa intel-gpu-tools</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mesa    3D driver</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">xf86-video-intel    2d driver</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">libva-intel-driver    vaapi 视频硬解码库</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">libvdpau-va-gl    vdpau 视频硬解码库，以vaapi为基础的翻译层</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">intel-compute-runtime    opencl</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">intel-gpu-tools    用sudo intel_gpu_top观察Intel显卡负载</span></span><br></pre></td></tr></table></figure>

<p>nvidia显卡驱动安装：（yay软件在archlinuxcn里面，添加源就可安装）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">闭源驱动：</span></span><br><span class="line">sudo pacman -S nvidia nvidia-prime nvidia-settings nvidia-utils opencl-nvidia</span><br><span class="line">sudo pacman -S lib32-nvidia-utils lib32-opencl-nvidia libva-vdpau-driver</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">nvidia    内核所属，记得更新驱动也要更新linux内核：sudo pacman -Syu</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">nvidia-utils    opengl, vulkan, vdpau</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">opencl-nvidia    opencl, cuda driver</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">nvidia-prime    用<span class="string">&quot;prime-run <span class="variable">$cmd</span>&quot;</span>启动程序运行于nvidia上</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">libva-vdpau-driver    vaapi 视频硬解码库，以vdpau为基础的翻译层</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开源驱动：（2d性能和闭源驱动相当，3d性能可能是闭源的一半，不支持opencl）</span></span><br><span class="line">yay -S nouveau-fw</span><br><span class="line">sudo pacman -S mesa xf86-video-nouveau lib32-mesa libva-mesa-driver mesa-vdpau</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">xf86-video-nouveau    2d driver</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">nouveau-fw    nvidia官方firmware，视频硬解需要</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">libva-mesa-driver    vaapi 视频硬解码库</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mesa-vdpau    vdpau 视频硬解码库</span></span><br></pre></td></tr></table></figure>

<p>AMD显卡驱动安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S mesa xf86-video-amdgpu vulkan-radeon libva-mesa-driver mesa-vdpau</span><br><span class="line">sudo pacman -S opencl-mesa lib32-vulkan-radeon lib32-mesa</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">xf86-video-amdgpu    2d driver</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vulkan-radeon    vulkan</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">opencl-mesa    opencl</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开源驱动性能和闭源驱动差不了多少，就不考虑闭源。这方面AMD更好。</span></span><br></pre></td></tr></table></figure>

<p>如果要在Linux下工作，那么不推荐买nvidia显卡；如果只是为了打游戏，那么推荐买nvidia显卡。轻度办公和游戏，核显足够了。看视频的话，整个多核心带核显CPU就行。</p>
<p>Virtualbox（显卡）驱动安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S virtualbox-guest-utils mesa lib32-mesa</span><br><span class="line">systemctl enable --now vboxservice</span><br></pre></td></tr></table></figure>

<p>Vmware（显卡）驱动安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S mesa xf86-video-vmware xf86-input-vmmouse open-vm-tools lib32-mesa</span><br><span class="line">systemctl enable --now vmtoolsd</span><br><span class="line">systemctl neable --now vmware-vmblock-fuse</span><br></pre></td></tr></table></figure>

<p>硬件无关的opencl库：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S pocl</span><br></pre></td></tr></table></figure>

<p>驱动安装完了，但是不知道如何使用。建议先sudo mkinitcpio -P再重启后，才会启动驱动。</p>
<p>要检查驱动的功能，可以如下方法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S --needed vulkan-tools libva-utils vdpauinfo mesa-demos lib32-mesa-demos</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">64位的opengl信息</span></span><br><span class="line">glxinfo -B</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">32位的opengl信息</span></span><br><span class="line">glxinfo32 -B</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用glxinfo命令可以查看当前正在使用的显卡。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Intel</span></span><br><span class="line">glxinfo | grep &quot;OpenGL renderer&quot;</span><br><span class="line">OpenGL renderer string: Mesa Intel(R) UHD Graphics 630 (CFL GT2)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">切换NVIDIA显卡后</span></span><br><span class="line">glxinfo | grep &quot;OpenGL renderer&quot;</span><br><span class="line">OpenGL renderer string: NVIDIA GeForce GTX 1050 Ti/PCIe/SSE2</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vulkan信息汇总</span></span><br><span class="line">vulkaninfo --summary</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vaapi信息</span></span><br><span class="line">vainfo  # 注意：闭源nvidia驱动会导致该命令不可用</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">vdpau信息</span></span><br><span class="line">vdpauinfo</span><br></pre></td></tr></table></figure>

<p>此外，可能还需要切换显卡，要用这项功能，安装optimus-manager软件包：</p>
<p>具体详情参照<a target="_blank" rel="noopener" href="https://links.jianshu.com/go?to=https://github.com/Askannz/optimus-manager">Optimus-manager的GitHub页面</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yay -S optimus-manager</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">命令行切换显卡</span></span><br><span class="line">optimus-manager --switch nvidia   # 切换到 Nvidia GPU</span><br><span class="line">optimus-manager --switch integrated  # 切换到集成 GPU 并关闭 Nvidia GPU</span><br></pre></td></tr></table></figure>

<p>UI界面：我使用的是kde桌面环境，所以我的安装过程是</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S bbswitch</span><br><span class="line">yay -S optimus-manager-qt-kde</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装完成后就可以在任务栏上找到Optimus Manager Qt这一项</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">右键可以切换显卡，之后会自动注销; 你也可以打开设置进行设置。</span></span><br></pre></td></tr></table></figure>

<h3 id="五-触控板设置"><a href="#五-触控板设置" class="headerlink" title="五. 触控板设置#"></a>五. 触控板设置<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%BA%94-%E8%A7%A6%E6%8E%A7%E6%9D%BF%E8%AE%BE%E7%BD%AE">#</a></h3><h4 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言#"></a>1.前言<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1%E5%89%8D%E8%A8%80">#</a></h4><p><a target="_blank" rel="noopener" href="https://wiki.archlinuxcn.org/wiki/Libinput?rdfrom=https://wiki.archlinux.org/index.php?title=Libinput_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&redirect=no">官网wiki</a></p>
<p>当前系统环境是 <code>archlinux+kde plasma5</code>，<code>touchegg</code>和<code>libinput-gestures</code>都可以触控板需求，但是在实际配置过程中<code>touchegg</code>存在很多问题一直都没能解决，而<code>libinput-gestures</code>基本没有太大的问题。所以使用<code>libinput-gestures</code>。</p>
<p><code>kde</code>是<code>X.Org</code>桌面环境，<code>aur</code>上维护了一个基于<code>X.Org Server</code>的驱动<code>xf86-input-libinput-git</code>很方便。而下面所说的<code>X11 client</code>在我这里就是<code>kde plasma5</code>。</p>
<p>驱动程序<code>libinput</code>在<code>linux</code>生态提供了很多驱动，本文使用的驱动是<code>libinput</code>，它负责分析内核从输入设备得到的数据发送给桌面环境，桌面环境根据不同的数据进行反馈。</p>
<p>术语解释</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">touchpad：通常意义上的触摸板。</span><br><span class="line">clickpad：指底部没有按钮的touchpad，参考clickpad。clickpad中通过不同手指数量的点击行为来模拟鼠标左键、中键、右键点击。这些都可以配置或者关闭。</span><br><span class="line">click：点击，本文语境中之物理按钮的“按压”和“释放”。</span><br><span class="line">Clickpad software button behavior：clickpad上软按钮的行为，详情见Clickpad software button behavior。</span><br></pre></td></tr></table></figure>

<h4 id="2-基本设置"><a href="#2-基本设置" class="headerlink" title="2.基本设置#"></a>2.基本设置<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">setting -&gt; 输入设备 -&gt; 触摸板</span></span><br><span class="line">手指轻触      轻触点击、轻触拖拽</span><br><span class="line">双指轻触      右击（三指轻触中键点击）</span><br></pre></td></tr></table></figure>

<h4 id="3-安装libinput-与-xdotool"><a href="#3-安装libinput-与-xdotool" class="headerlink" title="3.安装libinput 与 xdotool#"></a>3.安装libinput 与 xdotool<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#3%E5%AE%89%E8%A3%85libinput-%E4%B8%8E-xdotool">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">确保当前用户在输入组中具有读取触摸板设备的权限</span></span><br><span class="line">sudo gpasswd -a $USER input</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">install basic libinput and xf86-input-libinput</span></span><br><span class="line">sudo pacman -S libinput xf86-input-libinput</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装 xdotool 和 libinput-gestures</span></span><br><span class="line">yay -S xdotool libinput-gestures</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开机自动启动</span></span><br><span class="line">libinput-gestures-setup autostart</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">试一下三指上下滑动成功了不，如果不成功就重启一下，如果重启了还不成功就用</span></span><br><span class="line">sudo libinput-gestures</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">试一下，如果提示少依赖，根据提示sudo apt-get install + 提示依赖名</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后重新运行自动启动</span></span><br></pre></td></tr></table></figure>

<h4 id="4-配置"><a href="#4-配置" class="headerlink" title="4.配置#"></a>4.配置<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#4%E9%85%8D%E7%BD%AE">#</a></h4><p>libinput有两种配置方式：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用配置文件的永久配置方式</span><br><span class="line">使用xinput命令行工具，针对运行时(runtime)进行实时配置，主要用来调试。</span><br></pre></td></tr></table></figure>

<p>libinput安装后默认的配置文件在&#x2F;usr&#x2F;share&#x2F;X11&#x2F;xorg.conf.d目录下，如何你安装多个驱动会存在多个文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls /usr/share/X11/xorg.conf.d/</span><br><span class="line">10-nvidia-drm-outputclass.conf  10-quirks.conf  40-libinput.conf  50-vmmouse.conf</span><br></pre></td></tr></table></figure>

<p>这里安装了4个驱动所以会有4个配置文件，默认情况下kde会根据文件前缀数字的大小决定优先使用哪个配置文件，数字越大优先级越高。</p>
<p>我们需要把默认配置文件复制到<code>/etc/X11/xorg.conf.d/</code>目录下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /usr/share/X11/xorg.conf.d/40-libinput.conf /etc/X11/xorg.conf.d/40-libinput.conf</span><br></pre></td></tr></table></figure>

<p>下面是文件中touchpad部分的配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Section &quot;InputClass&quot;</span><br><span class="line">        Identifier &quot;touchpad&quot;</span><br><span class="line">        MatchIsTouchpad &quot;on&quot;</span><br><span class="line">        MatchDevicePath &quot;/dev/input/event*&quot;</span><br><span class="line">        Driver &quot;libinput&quot;</span><br><span class="line">        Option &quot;Tapping&quot; &quot;on&quot;</span><br><span class="line">        Option &quot;ButtonMapping&quot; &quot;1 3 0 4 5 6 7&quot;</span><br><span class="line">        Option &quot;TappingButtonMap&quot; &quot;lmr&quot;</span><br><span class="line">        Option &quot;DisableWhileTyping&quot; &quot;on&quot;</span><br><span class="line">        Option &quot;TappingDrag&quot; &quot;on&quot;</span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure>

<p>详细参数和解释见libinput man page: based on X.Org input dirver，解释下几个重要的配置参数：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Option</span> “Tapping” “<span class="keyword">on</span>”：手指点击touchpad发送鼠标点击事件</span><br><span class="line"><span class="keyword">Option</span> “TappingButtonMap” “lmr”：<span class="number">1</span>个手指点击对应鼠标左键，<span class="number">2</span>个手指点击对应鼠标中键，<span class="number">3</span>个鼠标点击对应鼠标右键</span><br><span class="line"><span class="keyword">Option</span> “ButtonMapping” “<span class="number">1</span> <span class="number">3</span> <span class="number">0</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span>”，按钮映射，详情见libinput<span class="comment">#Button_Mapping，这里笔者关闭了3指对应的左键</span></span><br><span class="line"><span class="keyword">Option</span> “DisableWhileTyping” “<span class="keyword">on</span>”：打字时不检测touchpad事件，防止用户不小心触碰touchpad引起不必要的影响</span><br><span class="line"><span class="keyword">Option</span> “TappingDrag” “<span class="keyword">on</span>”：开启点击拖拽</span><br></pre></td></tr></table></figure>

<h5 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h5><h6 id="1-确定touchpad设备"><a href="#1-确定touchpad设备" class="headerlink" title="1.确定touchpad设备"></a>1.确定touchpad设备</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">终端输入：xinput list</span><br><span class="line">⎡ Virtual core pointer                          id=2    [master pointer  (3)]</span><br><span class="line">⎜   ↳ Virtual core XTEST pointer                id=4    [slave  pointer  (2)]</span><br><span class="line">⎜   ↳ ELAN962C:00 04F3:30F5 Mouse               id=11   [slave  pointer  (2)]</span><br><span class="line">⎜   ↳ ELAN962C:00 04F3:30F5 Touchpad            id=12   [slave  pointer  (2)]</span><br><span class="line">⎜   ↳ SYNA7813:00 06CB:1A1A                     id=13   [slave  pointer  (2)]</span><br><span class="line">⎣ Virtual core keyboard                         id=3    [master keyboard (2)]</span><br><span class="line">    ↳ Virtual core XTEST keyboard               id=5    [slave  keyboard (3)]</span><br><span class="line">    ↳ Power Button                              id=6    [slave  keyboard (3)]</span><br><span class="line">    ↳ Video Bus                                 id=7    [slave  keyboard (3)]</span><br><span class="line">    ↳ Video Bus                                 id=8    [slave  keyboard (3)]</span><br><span class="line">    ↳ Power Button                              id=9    [slave  keyboard (3)]</span><br><span class="line">    ↳ HD Camera: HD Camera                      id=10   [slave  keyboard (3)]</span><br><span class="line">    ↳ Huawei WMI hotkeys                        id=14   [slave  keyboard (3)]</span><br><span class="line">    ↳ AT Translated Set 2 keyboard              id=15   [slave  keyboard (3)]</span><br></pre></td></tr></table></figure>

<h6 id="2-查看touchpad的详细配置"><a href="#2-查看touchpad的详细配置" class="headerlink" title="2.查看touchpad的详细配置"></a>2.查看touchpad的详细配置</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这里面有一个值很重要Device Node (xxx):<span class="string">&quot;/dev/input/event8&quot;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">后面使用libinput命令行时会用到这个路径</span></span><br><span class="line">终端输入：xinput list-props &quot;ELAN962C:00 04F3:30F5 Touchpad&quot;</span><br><span class="line">        ...</span><br><span class="line">        libinput Left Handed Enabled (328):     0</span><br><span class="line">        libinput Left Handed Enabled Default (329):     0</span><br><span class="line">        libinput Send Events Modes Available (299):     1, 1</span><br><span class="line">        libinput Send Events Mode Enabled (300):        0, 0</span><br><span class="line">        libinput Send Events Mode Enabled Default (301):        0, 0</span><br><span class="line">        Device Node (302):      &quot;/dev/input/event8&quot;</span><br><span class="line">        Device Product ID (303):        1267, 12533</span><br><span class="line">        libinput Drag Lock Buttons (330):       &lt;no items&gt;</span><br><span class="line">        libinput Horizontal Scroll Enabled (331):       1</span><br><span class="line">        libinput Scrolling Pixel Distance (332):        15</span><br><span class="line">        libinput Scrolling Pixel Distance Default (333):        15</span><br><span class="line">        libinput High Resolution Wheel Scroll Enabled (334):    1</span><br></pre></td></tr></table></figure>

<h6 id="3-使用libinput-debug-events-监控touchpad事件"><a href="#3-使用libinput-debug-events-监控touchpad事件" class="headerlink" title="3.使用libinput debug-events 监控touchpad事件"></a>3.使用libinput debug-events 监控touchpad事件</h6><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">终端输入：libinput debug-events --device /dev/input/event8</span><br><span class="line">-event8   DEVICE_ADDED            ELAN962C:00 04F3:30F5 Touchpad    seat0 default group1  cap:pg  size 115x70mm tap(dl off) left scroll-nat scroll-2fg-edge click-buttonareas-clickfinger dwt-on dwtp-on</span><br><span class="line"> event8   POINTER_MOTION          +0.023s        -0.40/  0.62 ( -2.00/ +3.10)</span><br><span class="line"> event8   POINTER_MOTION          +0.031s        -1.29/  2.67 ( -4.00/ +8.26)</span><br><span class="line"> event8   POINTER_MOTION          +0.039s        -4.28/  6.80 (-13.00/+20.65)</span><br><span class="line"> event8   POINTER_MOTION          +0.047s        -8.56/ 12.72 (-25.00/+37.16)</span><br></pre></td></tr></table></figure>

<h6 id="4-使用libinput-debug-gui-监控touchpad事件"><a href="#4-使用libinput-debug-gui-监控touchpad事件" class="headerlink" title="4.使用libinput debug-gui 监控touchpad事件"></a>4.使用libinput debug-gui 监控touchpad事件</h6><blockquote>
<p>这里可能会报没有 <code>libgtk-4.so.1</code> 的错误，安装gtk4即可：<code>yay -S gtk4</code></p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这时会出现一个GUI画面帮助检测</span></span><br><span class="line">libinput debug-gui --device /dev/input/event8</span><br></pre></td></tr></table></figure>

<ol>
<li>libinput-gestures 配置</li>
</ol>
<p>配置好touchpad和手势后，下面利用 libinput-gestures 来解析touchpad的数据，然后执行相关的操作。这里主要用到xdotool，xdotool是模拟键盘&#x2F;鼠标输入和窗口管理等的命令行工具。libinput-gestures依赖xdotool。</p>
<p>libinput-gestures安装后会有默认的配置，位置在&#x2F;etc&#x2F;libinput-gestures.conf，用户可以在～&#x2F;.config&#x2F;libinput-gestures.conf配置自己的配置。这里我根据自己的需要修改了相关配置如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Switch to next desktop</span></span><br><span class="line">gesture swipe right 4   xdotool key ctrl+F1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Switch to prev desktop</span></span><br><span class="line">gesture swipe left 4 xdotool key ctrl+F2</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Present windows (current desktop)</span></span><br><span class="line">gesture swipe down 3 xdotool key ctrl+F9</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Present windows (all desktop)</span></span><br><span class="line">gesture swipe down 4 xdotool key ctrl+F10</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Show desktop</span></span><br><span class="line">gesture swipe up 3 xdotool key super+d</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Show desktops grid</span></span><br><span class="line">gesture swipe up 4 xdotool key ctrl+F8</span><br></pre></td></tr></table></figure>

<p>主要思想是针对不同的手势触发相关的快捷键，快捷键的配置则可以在系统偏好设置→快捷键中设置。下图是我在plasma5中的切换桌面的快捷键配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">配置快捷键：setting -&gt; KWin</span></span><br><span class="line">切换到上一个桌面                       Ctrl + F1</span><br><span class="line">切换到下一个桌面                       Ctrl + F2</span><br><span class="line">显示/应玚窗口平铺（当前桌面）            Ctrl + F9</span><br><span class="line">显示/应玚窗口平铺（全部桌面）            Ctrl + F10</span><br><span class="line">显示虚拟桌面网格                       Meta + F8</span><br><span class="line">暂时显示桌面                          Meta + D</span><br></pre></td></tr></table></figure>

<p>添加虚拟桌面：</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 工作区行为 <span class="punctuation">-&gt;</span> 虚拟桌面 <span class="punctuation">-&gt;</span> 按自己需求添加任意个</span><br></pre></td></tr></table></figure>

<blockquote>
<p>TODO</p>
<ul>
<li>通过捏和(pinch in&#x2F;pinch out)来放大&#x2F;缩小网页（对标macbook）</li>
<li>网页的前进&#x2F;后退（对标macbook）</li>
<li>待添加…</li>
</ul>
</blockquote>
<h3 id="六-转换deb包"><a href="#六-转换deb包" class="headerlink" title="六. 转换deb包#"></a>六. 转换deb包<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E5%85%AD-%E8%BD%AC%E6%8D%A2deb%E5%8C%85">#</a></h3><p>可能一些软件需要我们手动将 deb 包 转换后安装，这时候就需要 debtab 工具来转换。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装</span></span><br><span class="line">yay -S debtap</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新</span></span><br><span class="line">sudo debtap -u</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下载好待转换的 deb 包，将其转换，以下步骤一路回车即可</span></span><br><span class="line">sudo debtap ~/Downloads/包名.deb</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装转换后的包</span></span><br><span class="line">sudo pacman -U ~/Downloads/包名.pkg.tar.zst</span><br></pre></td></tr></table></figure>

<h3 id="七-KDE-桌面美化"><a href="#七-KDE-桌面美化" class="headerlink" title="七. KDE 桌面美化#"></a>七. KDE 桌面美化<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%B8%83-kde-%E6%A1%8C%E9%9D%A2%E7%BE%8E%E5%8C%96">#</a></h3><p><a target="_blank" rel="noopener" href="https://store.kde.org/browse?cat=421&ord=latest">KDE商店</a></p>
<p>也可参考<a target="_blank" rel="noopener" href="https://www.cnblogs.com/Junglezt/p/16927100.html">这个博客</a></p>
<h4 id="1-官网下载"><a href="#1-官网下载" class="headerlink" title="1. 官网下载#"></a>1. 官网下载<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD">#</a></h4><blockquote>
<p>在 设置 -&gt; 外观中下载各种美化插件！！</p>
</blockquote>
<p>如果没有访问，则需要手动去 <a target="_blank" rel="noopener" href="https://pling.com/">主题官网</a> 下载各类美化效果的压缩包，然后解压到下面的目录中即可</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">~/.local/share/plasma/look-and-feel/  # 存放全局主题</span><br><span class="line">~/.local/share/plasma/desktoptheme/   # 存放 plasma 视觉风格</span><br><span class="line">~/.local/share/plasma/plasmoids/      # 存放插件</span><br><span class="line">~/.local/share/aurorae/themes/		  # 存放窗口装饰</span><br><span class="line">~/.local/share/color-schemes/		  # 存放颜色</span><br><span class="line">~/.local/share/icons/				  # 存放图标</span><br><span class="line">~/.local/share/fonts/				  # 存放字体</span><br><span class="line">~/.local/share/sddm/themes/			  # 欢迎屏幕</span><br><span class="line">~/.local/share/backgrounds/			  # 壁纸</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在 <code>系统设置 -&gt; 外观</code> 中 可以应用我们下载下来的各种美化插件！</p>
</blockquote>
<p>我的方案：</p>
<ul>
<li>桌面右击-配置桌面和壁纸-获取新壁纸：Linux Cheatsheet Wallpaper-Arlinux_Linux.png</li>
<li>全局主题使用：系统自带 Breeze 微风深色-只勾选了外观布局</li>
<li>应用程序风格：Oxygen 轻氧</li>
<li>光标：ArchCusorTheme</li>
<li>欢迎屏幕：Smokey Arch Blue</li>
<li>工作区行为-锁屏-外观配置：Arlinux_Linux</li>
<li>工作区行为-最近文件：不要记住</li>
<li>开机与关机-登陆屏幕（SDDM）：sweet</li>
</ul>
<h4 id="2-dock栏"><a href="#2-dock栏" class="headerlink" title="2. dock栏#"></a>2. dock栏<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2-dock%E6%A0%8F">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除原始默认面板菜单</span></span><br><span class="line">右击下方图标面板 -&gt; 进入编辑模式 -&gt; 删除面板</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下载 latte-dock</span></span><br><span class="line">sudo pacman -S latte-dock</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动 dock</span></span><br><span class="line">latte-dock</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">右击 dock 栏，配置 latte、选择布局编辑器，选择 extended</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">右击 dock 栏，编辑停靠栏、点击高级 逐项按自己需求设置</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">面板添加电池组件</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">桌面右击 -&gt; 添加组件 -&gt; 搜索电池 -&gt; 拖动到面板合适的位置即可</span></span><br></pre></td></tr></table></figure>

<h4 id="3-系统托盘"><a href="#3-系统托盘" class="headerlink" title="3.系统托盘#"></a>3.系统托盘<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#3%E7%B3%BB%E7%BB%9F%E6%89%98%E7%9B%98">#</a></h4><p>当打开一个应用之后，可以在 <code>dock</code> 栏中右击该应用的图标，然后将其固定在 <code>dock</code> 栏上。我们还需要一个类似 <code>MAC</code> 系统的 <code>launchpad</code> 程序，可以右击 <code>dock</code> 栏然后添加部件，点击右上角的 <code>Get New Widgets</code>。</p>
<p>搜索 <code>OSXLaunchpad</code> 下载并添加，然后将它添加到 <code>dock</code> 栏上。</p>
<p>加完成后，在 <code>OSXLaunchpad</code> 上单击右键，然后配置 <code>OSXLaunchpad</code> 向下面这样设置：</p>
<ul>
<li>快捷键：meta + a</li>
<li>设置自定义背景图</li>
</ul>
<h4 id="4-grub美化"><a href="#4-grub美化" class="headerlink" title="4.grub美化#"></a>4.grub美化<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#4grub%E7%BE%8E%E5%8C%96">#</a></h4><p><a target="_blank" rel="noopener" href="https://github.com/vinceliuice/grub2-themes">下载地址</a></p>
<h4 id="5-插件"><a href="#5-插件" class="headerlink" title="5.插件#"></a>5.插件<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#5%E6%8F%92%E4%BB%B6">#</a></h4><p><strong><a target="_blank" rel="noopener" href="https://github.com/catsout/wallpaper-engine-kde-plugin">wallpaper-engine-kde-plugin</a></strong></p>
<p>安装好之后，将原本windows的壁纸copy到linux的~&#x2F;.local&#x2F;share&#x2F;Steam目录，然后在插件里浏览此目录，原本windows存放的壁纸在Steam&#x2F;steamapps&#x2F;workshop&#x2F;content&#x2F;</p>
<h4 id="6-icons"><a href="#6-icons" class="headerlink" title="6.icons#"></a>6.icons<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#6icons">#</a></h4><p><a target="_blank" rel="noopener" href="https://store.kde.org/p/1305251">Candy icons</a></p>
<h4 id="7-主题"><a href="#7-主题" class="headerlink" title="7.主题#"></a>7.主题<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#7%E4%B8%BB%E9%A2%98">#</a></h4><p><a target="_blank" rel="noopener" href="https://github.com/yeyushengfan258/WinSur-kde">win10主题</a></p>
<h3 id="八-终端美化"><a href="#八-终端美化" class="headerlink" title="八. 终端美化#"></a>八. 终端美化<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E5%85%AB-%E7%BB%88%E7%AB%AF%E7%BE%8E%E5%8C%96">#</a></h3><h4 id="Konsole配置"><a href="#Konsole配置" class="headerlink" title="Konsole配置#"></a>Konsole配置<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#konsole%E9%85%8D%E7%BD%AE">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打开Konsole -&gt; 设置 -&gt; 配置konsole</span></span><br><span class="line">标签栏 -&gt; 外观 -&gt; 显示 -&gt; 勾选永不</span><br><span class="line">配置方案 -&gt; 新建并命名为custom、勾选默认配置方案</span><br><span class="line">外观 -&gt; Breeze 微风 -&gt; 编辑 -&gt; 透明度10%</span><br><span class="line">外观 -&gt; 字体 -&gt; 选择 -&gt; 设置字体大小为12</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置 -&gt; 显示工具栏 -&gt; 取消勾选主工具栏、会话工具栏</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置 -&gt; 取消勾选菜单栏（可通过右击终端设置中打开菜单栏）</span></span><br></pre></td></tr></table></figure>

<h2 id="🚀-zsh"><a href="#🚀-zsh" class="headerlink" title="🚀 zsh#"></a>🚀 zsh<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#-zsh">#</a></h2><p>zsh 基本兼容 bash，但相比 bash，又有诸多优点：</p>
<ol>
<li>更强大的 <code>tab</code> 补全</li>
<li>更智能的切换目录</li>
<li>大小写字母自动更正</li>
<li>更强大的 <code>alias</code> 命令</li>
<li>丰富多彩的主题</li>
<li>可以集成各种类型的插件</li>
</ol>
<blockquote>
<h4 id=""><a href="#" class="headerlink" title="#"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#_">#</a></h4></blockquote>
<blockquote>
<h4 id="🍧-碎碎念"><a href="#🍧-碎碎念" class="headerlink" title="🍧 碎碎念#"></a>🍧 碎碎念<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#-%E7%A2%8E%E7%A2%8E%E5%BF%B5">#</a></h4><p>当然，也有很多人对 bash 爱的深沉，这些都看个人喜好啦。</p>
<p>可以参考<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/10c9f28fa794">这篇文章</a>进行美化</p>
<p>zsh终端美化 <a target="_blank" rel="noopener" href="https://article.itxueyuan.com/Go4bXy">powerlevel10k配置</a></p>
</blockquote>
<p>1.通过以下命令安装 zsh 相关的包：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S zsh zsh-autosuggestions zsh-syntax-highlighting zsh-completions</span><br></pre></td></tr></table></figure>

<blockquote>
<p>📑 相关包说明：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-autosuggestions"><code>zsh-autosuggestions</code></a> —— 命令自动补全插件</li>
<li><a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-syntax-highlighting"><code>zsh-syntax-highlighting</code></a> —— 语法上高亮插件</li>
<li><a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-completions"><code>zsh-completions</code></a> —— 补充补全定义</li>
</ul>
</blockquote>
<p>2.安装 <a target="_blank" rel="noopener" href="https://github.com/wting/autojump">autojump</a>插件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S autojump</span><br></pre></td></tr></table></figure>

<p>3.更改账户的默认 Shell：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chsh -l <span class="comment"># 查看安装了哪些 Shell</span></span><br><span class="line">chsh -s /usr/bin/zsh <span class="comment"># 修改当前账户的默认 Shell</span></span><br></pre></td></tr></table></figure>

<p>4.注销并重新登录 &gt; 打开终端，此时会弹出如下界面进行设置：</p>
<p><a target="_blank" rel="noopener" href="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235244835-2047495655.png"><img src="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235244835-2047495655.png" alt="zsh_step-5"></a></p>
<ul>
<li>按下 <code>0</code> 将创建一个只包含注释的 <code>~/.zshrc</code> 文件，在下次启动时不会再次弹出设置选项。</li>
<li>按下 <code>1</code> 即可进入设置：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Please pick one of the following options:</span><br><span class="line"></span><br><span class="line">(1)  Configure settings <span class="keyword">for</span> <span class="built_in">history</span>, i.e. <span class="built_in">command</span> lines remembered</span><br><span class="line">     and saved by the shell.  (Recommended.)</span><br><span class="line"></span><br><span class="line">(2)  Configure the new completion system.  (Recommended.)</span><br><span class="line"></span><br><span class="line">(3)  Configure how keys behave when editing <span class="built_in">command</span> lines.  (Recommended.)</span><br><span class="line"></span><br><span class="line">(4)  Pick some of the more common shell options.  These are simple <span class="string">&quot;on&quot;</span></span><br><span class="line">     or <span class="string">&quot;off&quot;</span> switches controlling the shell<span class="string">&#x27;s features.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">(0)  Exit, creating a blank ~/.zshrc file.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">(a)  Abort all settings and start from scratch.  Note this will overwrite</span></span><br><span class="line"><span class="string">     any settings from zsh-newuser-install already in the startup file.</span></span><br><span class="line"><span class="string">     It will not alter any of your other settings, however.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">(q)  Quit and do nothing else.  The function will be run again next time.</span></span><br></pre></td></tr></table></figure>

<p>根据提示完成设置即可。也可以创建一个只包含注释的 <code>~/.zshrc</code> 文件以使用默认值。</p>
<blockquote>
<p>ℹ️ 提示</p>
<p>root 账户需要手动创建 <code>root/.zshrc</code> 文件。</p>
</blockquote>
<blockquote>
<p>ℹ️ 提示</p>
<p>若希望重新设置，只需要把 <code>~/.zshrc</code> 文件删掉即可。</p>
</blockquote>
<p>5.为了让插件生效，需要修改 <code>~/.zshrc</code>。使用 <code>vim</code> 编辑 <code>~/.zshrc</code> 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.zshrc</span><br></pre></td></tr></table></figure>

<p>将以下内容分别添加到需要设置 zsh 账户的 <code>~/.zshrc</code> 中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh</span><br><span class="line"><span class="built_in">source</span> /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh</span><br><span class="line"><span class="built_in">source</span> /usr/share/autojump/autojump.zsh</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235244240-1596268782.png"><img src="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235244240-1596268782.png" alt="zsh_step-6"></a></p>
<p>6.关闭并重新打开终端，测试一下：</p>
<p><a target="_blank" rel="noopener" href="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235245817-1020333573.png"><img src="https://img2023.cnblogs.com/blog/3084858/202302/3084858-20230214235245817-1020333573.png" alt="zsh_step-7"></a></p>
<blockquote>
<p>提示</p>
<p>可能需要:</p>
<ul>
<li>将在 <code>~/.bash_profile</code> 所做的配置复制到 <code>~/.zsh_profile</code></li>
<li>将在 <code>~/.bashrc</code> 所做的配置复制到 <code>~/.zshrc</code></li>
<li>如在步骤 <a target="_blank" rel="noopener" href="https://arch.icekylin.online/rookie/desktop-env-and-app.html#_1-%E9%85%8D%E7%BD%AE-root-%E8%B4%A6%E6%88%B7%E7%9A%84%E9%BB%98%E8%AE%A4%E7%BC%96%E8%BE%91%E5%99%A8">1. 配置 root 账户的默认编辑器</a> 和 <a target="_blank" rel="noopener" href="https://arch.icekylin.online/rookie/desktop-env-and-app.html#_8-%E9%85%8D%E7%BD%AE%E9%9D%9E-root-%E8%B4%A6%E6%88%B7%E7%9A%84%E9%BB%98%E8%AE%A4%E7%BC%96%E8%BE%91%E5%99%A8">8. 配置非 root 账户的默认编辑器</a> 所做的配置。</li>
</ul>
</blockquote>
<blockquote>
<p>🔗 相关链接：</p>
<p>关于 zsh 的美化请参阅 <a target="_blank" rel="noopener" href="https://arch.icekylin.online/advanced/beauty-3.html#_2-zsh-%E7%BE%8E%E5%8C%96">系统美化</a>。</p>
</blockquote>
<h4 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh_my_zsh#"></a>oh_my_zsh<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#oh_my_zsh">#</a></h4><p>可以参考<a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh">这篇文章</a></p>
<h4 id="Zim"><a href="#Zim" class="headerlink" title="Zim#"></a>Zim<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#zim">#</a></h4><p><a target="_blank" rel="noopener" href="https://zimfw.sh/">Zim</a> 是一个 zsh 的模块化配置框架</p>
<h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -nv -O - https://raw.githubusercontent.com/zimfw/install/master/install.zsh | zsh</span><br></pre></td></tr></table></figure>

<h5 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h5><p>Zimfw 的配置文件为 <code>~/.zimrc</code></p>
<p>使用任意文本编辑器打开它，配置文件的编写格式为:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">zmodule [module name] # 模块在 zimfw 官方组织</span><br><span class="line">zmodule [author]/[module name] # 模块在 Github 上</span><br><span class="line">zmodule https://[host]/[author]/[module name].git # 模块在其他 Git 仓库中</span><br></pre></td></tr></table></figure>

<p>在添加好模块后，可以通过 <code>zimfw install</code> 命令安装，本文同样提供<a target="_blank" rel="noopener" href="https://www.chitang.tech/posts/arch-guide#%E6%A8%A1%E5%9D%97%E6%8E%A8%E8%8D%90">模块推荐</a></p>
<p>在之后可以通过 <code>zimfw update</code> 更新模块，通过 <code>zimfw upgrade</code> 更新 Zim 本体</p>
<h4 id="模块推荐"><a href="#模块推荐" class="headerlink" title="模块推荐#"></a>模块推荐<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E6%A8%A1%E5%9D%97%E6%8E%A8%E8%8D%90">#</a></h4><p>部分内容来自 <a target="_blank" rel="noopener" href="https://zimfw.sh/docs/modules/">Zim 官方网站</a></p>
<p>下拉式终端 <code>yakuake</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一次打开会让设置下拉终端快捷键 -&gt; 按自己方便设置即可</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 该终端也Konsole共享系统配置，不用再对系统配置作更改</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置yakuake独有配置</span></span><br><span class="line"><span class="comment"># 打开yakuake(面板会有终端小图标出现）、右击</span></span><br><span class="line"><span class="comment">#   宽度：100%</span></span><br><span class="line"><span class="comment">#   高度：100%</span></span><br><span class="line"><span class="comment">#   配置yakuake</span></span><br><span class="line"><span class="comment">#      窗口 -&gt; 取消勾选显示标d题栏、取消勾选显示标签栏</span></span><br><span class="line"><span class="comment">#      外观 -&gt; 勾选隐藏边框</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置开机自启动</span></span><br><span class="line"><span class="comment"># 设置 -&gt; 开机与关机 -&gt; 自动启动 -&gt; 添加 -&gt; 添加应用程序 -&gt; 系统 -&gt; Yakuake</span></span><br></pre></td></tr></table></figure>

<h3 id="九-其他软件安装"><a href="#九-其他软件安装" class="headerlink" title="九. 其他软件安装#"></a>九. 其他软件安装<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%B9%9D-%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85">#</a></h3><h4 id="1-Typora"><a href="#1-Typora" class="headerlink" title="1. Typora#"></a>1. Typora<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-typora">#</a></h4><h5 id="方式一：二进制包"><a href="#方式一：二进制包" class="headerlink" title="方式一：二进制包"></a>方式一：二进制包</h5><p>Typora 最新版已经收费，可以在官网下载以前的版本并手动安装，下面是最后一个免费版本两种下载方法：</p>
<ul>
<li>1.<a href="https://link.zhihu.com/?target=https://download.typora.io/linux/Typora-linux-x64-1.0.3.tar.gz">点我跳转</a></li>
<li>2.首先下载文件：<a target="_blank" rel="noopener" href="https://sagima.flowus.cn/">SAGIMA主页</a> 找到2022-12-12那天的资源</li>
</ul>
<p>下载完成后手动安装:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo tar xzvf Typora-linux-x64.tar.gz</span><br><span class="line">cd bin</span><br><span class="line">sudo cp -ar Typora-linux-x64 /opt</span><br><span class="line">cd /opt/Typora-linux-x64/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">启动</span></span><br><span class="line">./Typora</span><br></pre></td></tr></table></figure>

<p>为了能够在任意位置启动软件，得设置一下环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>打开.bashrc配置文件，添加：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">Typora环境变量</span></span><br><span class="line">export PATH=$PATH:/opt/Typora-linux-x64</span><br></pre></td></tr></table></figure>

<p>保存后关闭文件，source一下，让配置生效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>这样我们在任意终端中输入“Typora”再回车，就可以打开软件了</p>
<p>添加可视化启动程序，在cd &#x2F;usr&#x2F;share&#x2F;applications下新建以下文件，Typora 内部自己有 PNG 图片，所以不需要额外下载，直接复制粘贴以下内容即可：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Name=Typora</span><br><span class="line">Comment=Typora</span><br><span class="line">Exec=/opt/Typora-linux-x64/Typora</span><br><span class="line">Icon=/opt/Typora-linux-x64/resources/app/asserts/icon/icon_256x256.png</span><br><span class="line">Terminal=false</span><br><span class="line">Type=Application</span><br><span class="line">Categories=Developer;</span><br></pre></td></tr></table></figure>

<p>设置在.md文件上右键能够选择用Typora打开，进入终端</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gedit ~/.config/mimeapps.list</span><br></pre></td></tr></table></figure>

<p>然后在文件的**[Added Associations]**一栏下面加上一行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo text/markdown=typora.desktop;</span><br></pre></td></tr></table></figure>

<h5 id="方式二：deb包"><a href="#方式二：deb包" class="headerlink" title="方式二：deb包"></a>方式二：deb包</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">直接Typora官网下载最新deb包</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">利用前面安装的deb包转换工具安装即可</span></span><br></pre></td></tr></table></figure>

<h4 id="2-Navicat"><a href="#2-Navicat" class="headerlink" title="2. Navicat#"></a>2. Navicat<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2-navicat">#</a></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建AppImage、二进制格式软件存放目录</span></span><br><span class="line">mkdir -p ~/Application/&#123;AppImage,binary&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">下载</span></span><br><span class="line">cd ~/Application/AppImage</span><br><span class="line">wget http://download.navicat.com.cn/download/navicat16-premium-cs.AppImage</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">赋权</span></span><br><span class="line">chmod +x navicat16-premium-cs.AppImage</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行</span></span><br><span class="line">./navicat16-premium-cs.AppImage</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">第一次通过上面方式启动后Navicat会自动创建桌面图标，下次启动就可以直接以快捷方式启动！</span></span><br></pre></td></tr></table></figure>

<h2 id="十-常见Bug解决"><a href="#十-常见Bug解决" class="headerlink" title="十. 常见Bug解决#"></a>十. 常见Bug解决<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E5%8D%81-%E5%B8%B8%E8%A7%81bug%E8%A7%A3%E5%86%B3">#</a></h2><h3 id="1-VScode-Git保持登录状态"><a href="#1-VScode-Git保持登录状态" class="headerlink" title="1. VScode Git保持登录状态#"></a>1. VScode Git保持登录状态<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-vscode-git%E4%BF%9D%E6%8C%81%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81">#</a></h3><p>arch 系的 Linux 无法保存 vscode 里 github 的登录状态，需要下载一个插件进行解决</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S qtkeychain gnome-keyring</span><br></pre></td></tr></table></figure>

<p>作者：vconlln</p>
<p>出处：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html">https://www.cnblogs.com/vconlln/p/17065420.html</a></p>
<p>版权：本作品采用「<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a>」许可协议进行许可。</p>
<p> 分类: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/category/2266611.html">Arch</a></p>
<p> 标签: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/tag/Arch/">Arch</a></p>
<p>Buy me a cup of coffee ☕.</p>
<ul>
<li></li>
<li></li>
</ul>
<p> 2</p>
<p> 0</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065426.html">» </a>下一篇： <a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065426.html">arch安装vmware</a></p>
<p>posted @ 2023-01-23 19:18 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln">vconlln</a> 阅读(6834) 评论(2) <a target="_blank" rel="noopener" href="https://i.cnblogs.com/EditPosts.aspx?postid=17065420">编辑</a> <a href="javascript:void(0)">收藏</a> <a href="javascript:void(0)">举报</a></p>
<p>登录后才能查看或发表评论，立即 <a href="javascript:void(0);">登录</a> 或者 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/">逛逛</a> 博客园首页</p>
<p>Copyright © 2024 vconlln<br>Powered by .NET 8.0 on Kubernetes &amp; Theme <a target="_blank" rel="noopener" href="https://github.com/esofar/cnblogs-theme-silence">Silence v3.0.0-rc2</a></p>
<p>more_horiz</p>
<p>keyboard_arrow_updark_modepalettemenu</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%B8%80-%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C">1. 一. 镜像制作</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-%E4%B8%8B%E8%BD%BD">1.1. 1. 下载</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2%E9%95%9C%E5%83%8F%E7%83%A7%E5%BD%95">1.2. 2.镜像烧录</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#21-windows">1.2.1. 2.1 Windows</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#22-linux">1.2.2. 2.2 Linux</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%BA%8C-usb%E5%90%AF%E5%8A%A8%E5%AE%89%E8%A3%85">2. 二. USB启动安装</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1%E5%90%AF%E5%8A%A8%E5%88%B0-live-%E7%8E%AF%E5%A2%83">2.1. 1.启动到 Live 环境</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2%E6%AD%A3%E5%BC%8F%E5%AE%89%E8%A3%85">2.2. 2.正式安装</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#21-%E7%A6%81%E7%94%A8-reflector-%E6%9C%8D%E5%8A%A1">2.2.1. 2.1 禁用 reflector 服务</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#22-%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6uefi%E5%90%AF%E5%8A%A8">2.2.2. 2.2 检查是否UEFI启动</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#23-%E8%BF%9E%E6%8E%A5%E7%BD%91%E7%BB%9C">2.2.3. 2.3 连接网络</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#24-%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4">2.2.4. 2.4 更新系统时间</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#25-%E6%8D%A2%E6%BA%90">2.2.5. 2.5 换源</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#26-%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA">2.2.6. 2.6 硬盘分区</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#27-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%88%86%E5%8C%BA">2.2.7. 2.7 格式化分区</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#28-%E6%8C%82%E8%BD%BD%E5%88%86%E5%8C%BA">2.2.8. 2.8 挂载分区</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#29-%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F">2.2.9. 2.9 安装系统</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#210-%E7%94%9F%E6%88%90%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E8%A1%A8">2.2.10. 2.10 生成文件系统表</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#211-%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA">2.2.11. 2.11 设置时区</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#212-%E6%9C%AC%E5%9C%B0%E5%8C%96">2.2.12. 2.12 本地化</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#213-%E4%B8%BB%E6%9C%BA%E5%90%8D%E4%B8%8Ehosts%E9%85%8D%E7%BD%AE">2.2.13. 2.13 主机名与hosts配置</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#214-%E8%AE%BE%E7%BD%AEroot%E5%AF%86%E7%A0%81">2.2.14. 2.14 设置root密码</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#215-%E5%AE%89%E8%A3%85%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F">2.2.15. 2.15 安装引导程序</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#216-%E9%85%8D%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E9%A1%B9">2.2.16. 2.16 配置开机启动项</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#217-%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7">2.2.17. 2.17 新建用户</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#218-%E7%BB%93%E6%9D%9F">2.2.18. 2.18 结束</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%B8%89-%E5%AE%89%E8%A3%85%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2-kde">2.3. 三. 安装图形界面 KDE</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1%E7%AA%97%E5%8F%A3%E5%9B%BE%E5%BD%A2%E7%B3%BB%E7%BB%9F-xorg">2.3.1. 1.窗口图形系统 Xorg</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2kde-plasma">2.3.2. 2.KDE Plasma</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#3-%E5%90%AF%E7%94%A8%E7%99%BB%E5%BD%95%E7%AE%A1%E7%90%86%E5%99%A8-sddm">2.3.3. 3. 启用登录管理器 SDDM</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#4%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%99%A8">2.3.4. 4.设置网络管理器</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#5%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8F%8A%E5%AD%97%E4%BD%93%E4%B8%8B%E8%BD%BD">2.3.5. 5.浏览器及字体下载</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#6kde-%E7%95%8C%E9%9D%A2%E6%94%B9%E6%88%90%E4%B8%AD%E6%96%87">2.3.6. 6.KDE 界面改成中文</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#7-%E8%AE%BE%E7%BD%AE%E6%98%BE%E7%A4%BA%E5%99%A8%E5%85%A8%E5%B1%80%E7%BC%A9%E6%94%BE%E7%8E%87">2.3.7. 7. 设置显示器全局缩放率</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E5%9B%9B-%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE">2.4. 四. 基本设置</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95">2.4.1. 1. 中文输入法</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2-%E8%93%9D%E7%89%99">2.4.2. 2. 蓝牙</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#3-pacman-32%E4%BD%8D%E8%BF%90%E8%A1%8C%E5%BA%93%E4%B8%8Earchlinuxcn%E5%BA%93%E7%9A%84%E6%94%AF%E6%8C%81%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%BA%9B%E9%95%9C%E5%83%8F%E6%BA%90">2.4.3. 3. pacman 32位运行库与ArchLinuxCN库的支持,以及一些镜像源</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#4%E5%AE%89%E8%A3%85-auryay%E6%B7%BB%E5%8A%A0cn%E6%BA%90%E4%B9%8B%E5%90%8E%E5%8F%AF%E4%BB%A5%E4%B9%8B%E9%97%B4%E5%AE%89%E8%A3%85yay%E6%AD%A4%E6%AD%A5%E9%AA%A4%E5%8F%AF%E4%BB%A5%E7%9C%81%E7%95%A5">2.4.4. 4.安装 AUR（yay）（添加CN源之后可以之间安装yay,此步骤可以省略）</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#5-pacmanyay-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C">2.4.5. 5. pacman&#x2F;yay 常用操作</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#6-pacman%E5%AE%89%E8%A3%85-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6">2.4.6. 6. pacman安装 常用软件</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#7-yay-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6">2.4.7. 7. yay 常用软件</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#8-%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E4%B8%8E%E5%8F%8C%E6%98%BE%E5%8D%A1%E5%88%87%E6%8D%A2">2.4.8. 8. 显卡驱动与双显卡切换</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%BA%94-%E8%A7%A6%E6%8E%A7%E6%9D%BF%E8%AE%BE%E7%BD%AE">2.5. 五. 触控板设置</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1%E5%89%8D%E8%A8%80">2.5.1. 1.前言</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE">2.5.2. 2.基本设置</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#3%E5%AE%89%E8%A3%85libinput-%E4%B8%8E-xdotool">2.5.3. 3.安装libinput 与 xdotool</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#4%E9%85%8D%E7%BD%AE">2.5.4. 4.配置</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E5%85%AD-%E8%BD%AC%E6%8D%A2deb%E5%8C%85">2.6. 六. 转换deb包</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%B8%83-kde-%E6%A1%8C%E9%9D%A2%E7%BE%8E%E5%8C%96">2.7. 七. KDE 桌面美化</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD">2.7.1. 1. 官网下载</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2-dock%E6%A0%8F">2.7.2. 2. dock栏</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#3%E7%B3%BB%E7%BB%9F%E6%89%98%E7%9B%98">2.7.3. 3.系统托盘</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#4grub%E7%BE%8E%E5%8C%96">2.7.4. 4.grub美化</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#5%E6%8F%92%E4%BB%B6">2.7.5. 5.插件</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#6icons">2.7.6. 6.icons</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#7%E4%B8%BB%E9%A2%98">2.7.7. 7.主题</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E5%85%AB-%E7%BB%88%E7%AB%AF%E7%BE%8E%E5%8C%96">2.8. 八. 终端美化</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#konsole%E9%85%8D%E7%BD%AE">2.8.1. Konsole配置</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#-zsh">3. 🚀 zsh</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#_">3.0.1.</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#-%E7%A2%8E%E7%A2%8E%E5%BF%B5">3.0.2. 🍧 碎碎念</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#oh_my_zsh">3.0.3. oh_my_zsh</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#zim">3.0.4. Zim</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E6%A8%A1%E5%9D%97%E6%8E%A8%E8%8D%90">3.0.5. 模块推荐</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E4%B9%9D-%E5%85%B6%E4%BB%96%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85">3.1. 九. 其他软件安装</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-typora">3.1.1. 1. Typora</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#2-navicat">3.1.2. 2. Navicat</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#%E5%8D%81-%E5%B8%B8%E8%A7%81bug%E8%A7%A3%E5%86%B3">4. 十. 常见Bug解决</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/vconlln/p/17065420.html#1-vscode-git%E4%BF%9D%E6%8C%81%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81">4.1. 1. VScode Git保持登录状态</a></p>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/archlinux/" rel="tag"># archlinux</a>
              <a href="/tags/linux/" rel="tag"># linux</a>
              <a href="/tags/install/" rel="tag"># install</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/05/10/article-title/" rel="prev" title="article title">
                  <i class="fa fa-angle-left"></i> article title
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/05/11/cf-work-app/" rel="next" title="cf work app">
                  cf work app <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">H5Z2P5Z2P</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
